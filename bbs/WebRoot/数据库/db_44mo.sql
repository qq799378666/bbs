/*
SQLyog v10.2 
MySQL - 5.5.12 : Database - db_44mo
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`db_44mo` /*!40100 DEFAULT CHARACTER SET utf8 */;

USE `db_44mo`;

/*Table structure for table `lx_postion_menu` */

DROP TABLE IF EXISTS `lx_postion_menu`;

CREATE TABLE `lx_postion_menu` (
  `postion_id` int(11) DEFAULT NULL,
  `menu_id` int(11) DEFAULT NULL,
  KEY `fk_lx_postion_menu_menu` (`menu_id`),
  KEY `fk_lx_postion_menu_postion` (`postion_id`),
  CONSTRAINT `fk_lx_postion_menu_menu` FOREIGN KEY (`menu_id`) REFERENCES `t_menu` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_lx_postion_menu_postion` FOREIGN KEY (`postion_id`) REFERENCES `t_postion` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `lx_postion_menu` */

LOCK TABLES `lx_postion_menu` WRITE;

insert  into `lx_postion_menu`(`postion_id`,`menu_id`) values (2,7),(5,7),(5,6),(1,6),(1,4),(1,5),(1,1),(1,7),(1,2);

UNLOCK TABLES;

/*Table structure for table `lx_user_module_banzhu` */

DROP TABLE IF EXISTS `lx_user_module_banzhu`;

CREATE TABLE `lx_user_module_banzhu` (
  `user_id` int(11) DEFAULT NULL,
  `module_id` int(11) DEFAULT NULL,
  KEY `fk_lx_user_id_user_banzhu` (`user_id`),
  KEY `fk_lx_module_id_module_banzhu` (`module_id`),
  CONSTRAINT `fk_lx_module_id_module_banzhu` FOREIGN KEY (`module_id`) REFERENCES `t_module` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_lx_user_id_user_banzhu` FOREIGN KEY (`user_id`) REFERENCES `t_user` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `lx_user_module_banzhu` */

LOCK TABLES `lx_user_module_banzhu` WRITE;

insert  into `lx_user_module_banzhu`(`user_id`,`module_id`) values (2,2),(2,12),(2,3),(1,11),(1,4),(1,12),(1,3),(2,4),(42,2),(42,3),(42,4),(42,11),(42,12),(1,2);

UNLOCK TABLES;

/*Table structure for table `lx_user_postion` */

DROP TABLE IF EXISTS `lx_user_postion`;

CREATE TABLE `lx_user_postion` (
  `user_id` int(11) DEFAULT NULL,
  `postion_id` int(11) DEFAULT NULL,
  KEY `fk_lx_user_postion_user` (`user_id`),
  KEY `fk_lx_user_postion_postion` (`postion_id`),
  CONSTRAINT `fk_lx_user_postion_postion` FOREIGN KEY (`postion_id`) REFERENCES `t_postion` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_lx_user_postion_user` FOREIGN KEY (`user_id`) REFERENCES `t_user` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*Data for the table `lx_user_postion` */

LOCK TABLES `lx_user_postion` WRITE;

insert  into `lx_user_postion`(`user_id`,`postion_id`) values (41,2),(41,1),(1,1),(1,2),(1,5),(42,2),(42,1),(42,5);

UNLOCK TABLES;

/*Table structure for table `t_article` */

DROP TABLE IF EXISTS `t_article`;

CREATE TABLE `t_article` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(50) DEFAULT NULL,
  `content` text,
  `time` datetime DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `module_id` int(11) DEFAULT NULL,
  `good` tinyint(1) DEFAULT '0' COMMENT '精华帖',
  PRIMARY KEY (`id`),
  KEY `fk_article_user` (`user_id`),
  KEY `fk_article_module` (`module_id`),
  CONSTRAINT `fk_article_module` FOREIGN KEY (`module_id`) REFERENCES `t_module` (`id`) ON DELETE SET NULL,
  CONSTRAINT `fk_article_user` FOREIGN KEY (`user_id`) REFERENCES `t_user` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=165 DEFAULT CHARSET=utf8;

/*Data for the table `t_article` */

LOCK TABLES `t_article` WRITE;

insert  into `t_article`(`id`,`title`,`content`,`time`,`user_id`,`module_id`,`good`) values (53,'this is a article title','<p>阿斯顿撒</p>','2014-06-02 11:55:56',1,NULL,0),(54,'this is a article title','<p>1212</p><p>asdf</p><p>as</p><p>d</p><p>sadf</p><p>asfasdfasf</p><p><img src=\"/ueditor/jsp/upload/image/20140602/1401688095503011817.jpg\" style=\"\" title=\"1401688095503011817.jpg\"/></p><p><img src=\"/ueditor/jsp/upload/image/20140602/1401688095554049678.jpg\" style=\"\" title=\"1401688095554049678.jpg\"/></p><p><br/></p>','2014-06-02 13:48:20',2,NULL,0),(55,'this is a article title','<p><img src=\"/ueditor/jsp/upload/image/20140602/1401688302287080715.jpg\" title=\"1401688302287080715.jpg\" alt=\"Koala.jpg\" width=\"338\" height=\"390\" style=\"width: 338px; height: 390px;\"/></p><p>阿斯顿发贾拉森发烧</p><p>撒的法律军绿色 灵山大佛</p><p><br/></p><p>撒旦法了啊</p><pre class=\"brush:java;toolbar:false\">		Query&nbsp;query&nbsp;=&nbsp;this.getSession().createQuery(&quot;select&nbsp;count(*)&nbsp;from&nbsp;Article&nbsp;where&nbsp;title&nbsp;like&nbsp;%?%&quot;)\n		.setString(0,&nbsp;search);\n		total&nbsp;=&nbsp;((Number)query.uniqueResult()).intValue();\n		\n		query&nbsp;=&nbsp;this.getSession().createQuery(&quot;from&nbsp;Article&nbsp;where&nbsp;title&nbsp;like&nbsp;%?%&quot;)\n		.setString(0,&nbsp;search);\n		</pre><p><br/></p>','2014-06-02 13:53:00',38,NULL,0),(56,'this is a article title','<hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><p style=\"line-height: 16px;\"><img style=\"vertical-align: middle; margin-right: 2px;\" src=\"http://localhost:8080/style/ueditor/dialogs/attachment/fileTypeImages/icon_jpg.gif\"/><a style=\"font-size:12px; color:#0066cc;\" href=\"/ueditor/jsp/upload/file/20140602/1401689461190025097.jpg\" title=\"Koala.jpg\">Koala.jpg</a></p><p style=\"line-height: 16px;\"><img style=\"vertical-align: middle; margin-right: 2px;\" src=\"http://localhost:8080/style/ueditor/dialogs/attachment/fileTypeImages/icon_txt.gif\"/><a style=\"font-size:12px; color:#0066cc;\" href=\"/ueditor/jsp/upload/file/20140602/1401689461211094508.txt\" title=\"RUNNING.txt\">RUNNING.txt</a></p><p><br/></p>','2014-06-02 14:11:05',39,2,0),(57,'this is a article title','<p style=\"line-height: 16px;\"><img style=\"vertical-align: middle; margin-right: 2px;\" src=\"http://localhost:8080/style/ueditor/dialogs/attachment/fileTypeImages/icon_rar.gif\"/><a style=\"font-size:12px; color:#0066cc;\" href=\"/ueditor/jsp/upload/file/20140602/1401689538771067457.rar\" title=\"ssh.rar\">ssh.rar</a></p><p><video class=\"edui-upload-video  vjs-default-skin video-js\" controls=\"\" preload=\"none\" width=\"420\" height=\"280\" src=\"/ueditor/jsp/upload/video/20140602/1401689672744098339.wmv\" data-setup=\"{}\"><source src=\"/ueditor/jsp/upload/video/20140602/1401689672744098339.wmv\" type=\"video/wmv\"/></video></p>','2014-06-02 14:14:39',40,3,0),(58,'this is a article title','<p>121sdf<br/></p>','2014-06-04 15:15:49',38,3,0),(104,'测试标题','<p>测试一二三</p>','2014-06-05 16:45:55',1,3,0),(106,'SSh框架','<p>啦啦啦,及同年</p>','2014-06-05 22:01:40',1,2,0),(107,'java','<p>java是一门面向对象的语言<br/></p>','2014-06-05 22:05:38',1,NULL,0),(109,'编程','<p>1211212<br/></p>','2014-06-05 22:29:38',1,NULL,0),(110,'测试标题','<p>qwq</p>','2014-06-05 22:33:45',1,4,0),(111,'全部','<p>sd1212</p>','2014-06-05 22:34:45',1,4,0),(112,'编程','<p>阿斯顿发<br/></p>','2014-06-05 22:34:58',1,NULL,0),(113,'window系统合计','<p>啦啦啦,操作系统就是好</p>','2014-06-06 00:42:40',1,4,0),(118,'测试标题','<p><embed type=\"application/x-shockwave-flash\" class=\"edui-faked-music\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" src=\"http://box.baidu.com/widget/flash/bdspacesong.swf?from=tiebasongwidget&url=&name=%E5%8C%97%E4%BA%AC%E6%AC%A2%E8%BF%8E%E4%BD%A0&artist=%E7%BE%A4%E6%98%9F&extra=%E5%8C%97%E4%BA%AC2008%E5%B9%B4%E5%A5%A5%E8%BF%90%E4%BC%9A%E6%AD%8C%E6%9B%B2%E4%B8%93%E8%BE%91&autoPlay=false&loop=true\" width=\"400\" height=\"95\" align=\"none\" wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\"/></p>','2014-06-06 19:12:08',1,11,0),(119,'测试标题','<p><embed type=\"application/x-shockwave-flash\" class=\"edui-faked-music\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" src=\"http://box.baidu.com/widget/flash/bdspacesong.swf?from=tiebasongwidget&url=&name=%E7%88%B8%E7%88%B8%E5%8E%BB%E5%93%AA%E5%84%BF&artist=%E6%9E%97%E5%BF%97%E9%A2%96%2CKimi%2C%E5%BC%A0%E4%BA%AE%2C%E5%BC%A0%E6%82%A6%E8%BD%A9%2C%E9%83%AD%E6%B6%9B%2C%E9%83%AD%E5%AD%90%E7%9D%BF%2C%E7%8E%8B%E5%B2%B3%E4%BC%A6%2C%E7%8E%8B%E8%AF%97%E9%BE%84&extra=%E7%88%B8%E7%88%B8%E5%8E%BB%E5%93%AA%E5%84%BF&autoPlay=false&loop=true\" width=\"400\" height=\"95\" align=\"none\" wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\"/></p>','2014-06-06 19:13:44',1,4,0),(120,'Hibernate缓存机制','<p><span style=\"color: red;\">缓存是位于应用程序与物理数据源之间，用于临时存放复制数据的内存区域，目的是为了减少应用程序对物理数据源访问的次数，从而提高应用程序的运行性能.&nbsp;<br/>&nbsp; Hibernate在查询数据时，首先到缓存中去查找，如果找到就直接使用，找不到的时候就会从物理数据源中检索，所以，把频繁使用的数据加载到缓存区后，就可以大大减少应用程序对物理数据源的访问，使得程序的运行性能明显的提升.</span>&nbsp;<br/>&nbsp;&nbsp;<br/><span style=\"color: red;\">Hibernate缓存分类：</span>&nbsp;<br/><br/>Session缓存，一级缓存.&nbsp;<br/><br/>SessionFactory的缓存分为内置缓存和外置缓存.内置缓存中存放的是SessionFactory对象的一些集合属性包含的数据(映射元素据及预定义SQL语句等),对于应用程序来说,它是只读的.外置缓存中存放的是数据库数据的副本,其作用和一级缓存类似.二级缓存除了以内存作为存储介质外,还可以选用硬盘等外部存储设备.&nbsp;<br/><br/><span style=\"color: red;\">Hibernate的缓存范围</span>&nbsp;<br/><br/>Hibernate的一级缓存和二级缓存都位于均位于持久层,且均用于存放数据库数据的副本,最大的区别就是缓存的范围各不一样.&nbsp;<br/><br/>缓存的范围分为3类:&nbsp;<br/><br/>1.事务范围&nbsp;<br/>&nbsp;&nbsp; 事务范围的缓存只能被当前事务访问,每个事务都有各自的缓存,缓存内的数据通常采用相互关联的对象形式.缓存的生命周期依赖于事务的生命周期,只有当事务结束时,缓存的生命周期才会结束.事务范围的缓存使用内存作为存储介质,一级缓存就属于事务范围.&nbsp;<br/>2.应用范围&nbsp;<br/>&nbsp;&nbsp; 应用程序的缓存可以被应用范围内的所有事务共享访问.缓存的生命周期依赖于应用的生命周期,只有当应用结束时,缓存的生命周期才会结束.应用范围的缓存可以使用内存或硬盘作为存储介质,二级缓存就属于应用范围.&nbsp;<br/>3.集群范围&nbsp;<br/>&nbsp;&nbsp; 在集群环境中,缓存被一个机器或多个机器的进程共享,缓存中的数据被复制到集群环境中的每个进程节点,进程间通过远程通信来保证缓存中的数据的一致,缓存中的数据通常采用对象的松散数据形式.&nbsp;<br/><br/><span style=\"color: red;\">&nbsp; Hibernate的缓存管理</span>&nbsp;<br/><br/><span style=\"color: blue;\">一级缓存的管理:</span>&nbsp;<br/><br/>&nbsp;&nbsp;<span style=\"color: red;\">evit(Object obj)</span>&nbsp; 将指定的持久化对象从一级缓存中清除,释放对象所占用的内存资源,指定对象从持久化状态变为脱管状态,从而成为游离对象.&nbsp;<br/>&nbsp;&nbsp;<span style=\"color: red;\">clear()</span>&nbsp; 将一级缓存中的所有持久化对象清除,释放其占用的内存资源&nbsp;<br/>&nbsp;&nbsp;<span style=\"color: red;\">contains(Object obj)&nbsp;</span>判断指定的对象是否存在于一级缓存中.&nbsp;<br/>&nbsp;&nbsp;<span style=\"color: red;\">flush()&nbsp;</span>刷新一级缓存区的内容,使之与数据库数据保持同步.&nbsp;<br/><br/>&nbsp;&nbsp;<span style=\"color: blue;\">二级缓存的管理:</span>&nbsp;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;<span style=\"color: red;\">evict(Class arg0, Serializable arg1)</span>&nbsp; 将某个类的指定ID的持久化对象从二级缓存中清除,释放对象所占用的资源.&nbsp;<br/>&nbsp;&nbsp;</p><p>Java代码&nbsp;&nbsp;<a title=\"收藏这段代码\" style=\"color: rgb(0, 102, 153); text-decoration: underline;\"><img class=\"star\" src=\"http://www.iteye.com/images/icon_star.png\" alt=\"收藏代码\" style=\"border: 0px;\"/></a></p><ol start=\"1\" class=\"dp-j list-paddingleft-2\" style=\"font-size: 1em; line-height: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px solid rgb(209, 215, 220); list-style-position: initial; list-style-image: initial; color: rgb(43, 145, 175); background-color: rgb(255, 255, 255);\"><li><p><span style=\"color: black;\">sessionFactory.evict(Customer.<span class=\"keyword\" style=\"color: rgb(127, 0, 85); font-weight: bold;\">class</span>,&nbsp;<span class=\"keyword\" style=\"color: rgb(127, 0, 85); font-weight: bold;\">new</span>&nbsp;Integer(<span class=\"number\" style=\"color: rgb(192, 0, 0);\">1</span>));&nbsp;&nbsp;</span></p></li></ol><p><br/>&nbsp;&nbsp;&nbsp;<span style=\"color: red;\">evict(Class arg0)</span>&nbsp; 将指定类的所有持久化对象从二级缓存中清除,释放其占用的内存资源.&nbsp;<br/>&nbsp;&nbsp;</p><p>Java代码&nbsp;&nbsp;<a title=\"收藏这段代码\" style=\"color: rgb(0, 102, 153); text-decoration: underline;\"><img class=\"star\" src=\"http://www.iteye.com/images/icon_star.png\" alt=\"收藏代码\" style=\"border: 0px;\"/></a></p><ol start=\"1\" class=\"dp-j list-paddingleft-2\" style=\"font-size: 1em; line-height: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px solid rgb(209, 215, 220); list-style-position: initial; list-style-image: initial; color: rgb(43, 145, 175); background-color: rgb(255, 255, 255);\"><li><p><span style=\"color: black;\">sessionFactory.evict(Customer.<span class=\"keyword\" style=\"color: rgb(127, 0, 85); font-weight: bold;\">class</span>);&nbsp;&nbsp;</span></p></li></ol><p><br/>&nbsp;&nbsp;&nbsp;<span style=\"color: red;\">evictCollection(String arg0)</span>&nbsp; 将指定类的所有持久化对象的指定集合从二级缓存中清除,释放其占用的内存资源.&nbsp;<br/>&nbsp;&nbsp;</p><p>Java代码&nbsp;&nbsp;<a title=\"收藏这段代码\" style=\"color: rgb(0, 102, 153); text-decoration: underline;\"><img class=\"star\" src=\"http://www.iteye.com/images/icon_star.png\" alt=\"收藏代码\" style=\"border: 0px;\"/></a></p><ol start=\"1\" class=\"dp-j list-paddingleft-2\" style=\"font-size: 1em; line-height: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px solid rgb(209, 215, 220); list-style-position: initial; list-style-image: initial; color: rgb(43, 145, 175); background-color: rgb(255, 255, 255);\"><li><p><span style=\"color: black;\">sessionFactory.evictCollection(<span class=\"string\" style=\"color: blue;\">&quot;Customer.orders&quot;</span>);&nbsp;&nbsp;</span></p></li></ol><p><br/><br/><span style=\"color: red;\">Hibernate的二级缓存的配置</span>&nbsp;<br/><br/>首先,不是所有的数据都适合放在二级缓存中,看一下,什么样的数据适合放在二级缓存中来?什么样的数据不适合放在二级缓存中来?&nbsp;<br/>&nbsp; 下面这几种情况就<span style=\"color: red;\">不适合</span>加载到二级缓存中:&nbsp;<br/>&nbsp; 1.经常被修改的数据&nbsp;<br/>&nbsp; 2.绝对不允许出现并发访问的数据&nbsp;<br/>&nbsp; 3.与其他应用共享的数据&nbsp;<br/>&nbsp; 下面这己种情况<span style=\"color: red;\">合适</span>加载到二级缓存中:&nbsp;<br/>&nbsp; 1.数据更新频率低&nbsp;<br/>&nbsp; 2.允许偶尔出现并发问题的非重要数据&nbsp;<br/>&nbsp; 3.不会被并发访问的数据&nbsp;<br/>&nbsp; 4.常量数据&nbsp;<br/>&nbsp; 5.不会被第三方修改的数据&nbsp;<br/><br/>Hibernate的二级缓存功能是靠配置二级缓存插件来实现的,Hibernate为了集成这些插件,Hibernate提供了org.hibernate.cache.CacheProvider借口,它充当缓存插件与Hibernate之间的适配器 .&nbsp;<br/><br/>常用的二级缓存插件&nbsp;<br/>EHCache&nbsp; org.hibernate.cache.EhCacheProvider&nbsp;<br/>OSCache&nbsp; org.hibernate.cache.OSCacheProvider&nbsp;<br/>SwarmCahe&nbsp; org.hibernate.cache.SwarmCacheProvider&nbsp;<br/>JBossCache&nbsp; org.hibernate.cache.TreeCacheProvider&nbsp;<br/><br/>简单介绍一下EHCache的配置&nbsp;<br/>hibernate.cfg.xml&nbsp;<br/></p><p>Xml代码&nbsp;&nbsp;<a title=\"收藏这段代码\" style=\"color: rgb(0, 102, 153); text-decoration: underline;\"><img class=\"star\" src=\"http://www.iteye.com/images/icon_star.png\" alt=\"收藏代码\" style=\"border: 0px;\"/></a></p><ol start=\"1\" class=\"dp-xml list-paddingleft-2\" style=\"font-size: 1em; line-height: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px solid rgb(209, 215, 220); list-style-position: initial; list-style-image: initial; color: rgb(43, 145, 175); background-color: rgb(255, 255, 255);\"><li><p><span style=\"color: black;\"><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">hibernate-configuration</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">session-factory</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comments\" style=\"color: rgb(0, 130, 0); padding: 0px; margin: 0px; width: auto; border: 0px;\">&lt;!--&nbsp;设置二级缓存插件EHCache的Provider类--&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">property</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">name</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;hibernate.cache.provider_class&quot;</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.hibernate.cache.EhCacheProvider&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;/</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">property</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comments\" style=\"color: rgb(0, 130, 0); padding: 0px; margin: 0px; width: auto; border: 0px;\">&lt;!--&nbsp;启动&quot;查询缓存&quot;&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">property</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">name</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;hibernate.cache.use_query_cache&quot;</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;/</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">property</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;/</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">session-factory</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;/</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">hibernate-configuration</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li></ol><p><br/><br/>ehcache.xml&nbsp;<br/><br/></p><p>Xml代码&nbsp;&nbsp;<a title=\"收藏这段代码\" style=\"color: rgb(0, 102, 153); text-decoration: underline;\"><img class=\"star\" src=\"http://www.iteye.com/images/icon_star.png\" alt=\"收藏代码\" style=\"border: 0px;\"/></a></p><ol start=\"1\" class=\"dp-xml list-paddingleft-2\" style=\"font-size: 1em; line-height: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px solid rgb(209, 215, 220); list-style-position: initial; list-style-image: initial; color: rgb(43, 145, 175); background-color: rgb(255, 255, 255);\"><li><p><span style=\"color: black;\"><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">ehcache</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;<span class=\"comments\" style=\"color: rgb(0, 130, 0); padding: 0px; margin: 0px; width: auto; border: 0px;\">&lt;!--&nbsp;maxElementsInMemory为缓存对象的最大数目,&nbsp;eternal设置是否永远不过期,timeToIdleSeconds对象处于空闲状态的最多秒数,timeToLiveSeconds对象处于缓存状态的最多秒数&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">diskStore</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">path</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;java.io.tmpdir&quot;</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">/&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">defaultCache</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">maxElementsInMemory</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;10000&quot;</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">eternal</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;false&quot;</span>&nbsp;&nbsp;<span class=\"attribute\" style=\"color: red;\">timeToIdleSeconds</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;300&quot;</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">timeToLiveSeconds</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;600&quot;</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">overflowToDisk</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;true&quot;</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">/&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\"><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;/</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">ehcache</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li></ol><p><br/><br/>****.hbm.xml&nbsp;<br/><br/></p><p>Xml代码&nbsp;&nbsp;<a title=\"收藏这段代码\" style=\"color: rgb(0, 102, 153); text-decoration: underline;\"><img class=\"star\" src=\"http://www.iteye.com/images/icon_star.png\" alt=\"收藏代码\" style=\"border: 0px;\"/></a></p><ol start=\"1\" class=\"dp-xml list-paddingleft-2\" style=\"font-size: 1em; line-height: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px solid rgb(209, 215, 220); list-style-position: initial; list-style-image: initial; color: rgb(43, 145, 175); background-color: rgb(255, 255, 255);\"><li><p><span style=\"color: black;\"><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;?</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">xml</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">version</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;1.0&quot;</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">encoding</span>=<span class=\"attribute-value\" style=\"color: blue;\">&#39;UTF-8&#39;</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">?&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&lt;!DOCTYPE&nbsp;hibernate-mapping&nbsp;PUBLIC&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;-//Hibernate/Hibernate&nbsp;Mapping&nbsp;DTD&nbsp;3.0//EN&quot;&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\"><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">hibernate-mapping</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">class</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comments\" style=\"color: rgb(0, 130, 0); padding: 0px; margin: 0px; width: auto; border: 0px;\">&lt;!--&nbsp;设置该持久化类的二级缓存并发访问策略&nbsp;read-only&nbsp;read-write&nbsp;nonstrict-read-write&nbsp;transactional--&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">cache</span>&nbsp;<span class=\"attribute\" style=\"color: red;\">usage</span>=<span class=\"attribute-value\" style=\"color: blue;\">&quot;read-write&quot;</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">/&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;&nbsp;<span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;/</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">class</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black;\"><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&lt;/</span><span class=\"tag-name\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">hibernate-mapping</span><span class=\"tag\" style=\"color: rgb(0, 102, 153); font-weight: bold;\">&gt;</span>&nbsp;&nbsp;</span></p></li></ol><p><br/><br/>最近用上了,看看了,有什么不妥的地方,多谢指出.</p><p>声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。</p><p><br/></p>','2014-06-07 21:14:51',38,3,0),(121,'数据库测试123','<p>啦啦啦l<br/></p>','2014-06-07 21:29:34',38,4,0),(122,'aaa','<p>asdfsasadfas</p><p>asdfas &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; asdf&nbsp;</p><p>aaaaaaaaaaasd</p><p>fas&nbsp;</p>','2014-06-07 21:40:18',1,NULL,0),(123,'asd','<p>asdfa</p>','2014-06-07 21:40:56',1,NULL,0),(124,'asdfas','','2014-06-07 21:45:56',1,3,0),(125,'111','<p>asdf&nbsp;<img src=\"http://img.baidu.com/hi/jx2/j_0025.gif\"/></p>','2014-06-07 21:48:22',1,3,0),(126,'a','<p>a</p>','2014-06-07 21:50:35',1,3,0),(127,'嘿嘿','<p>阿斯顿发<br/></p>','2014-06-08 19:19:26',1,11,0),(128,'java 如何生成动态的gif图片','<p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\"><strong>网上找了很多资料都没有生成gif图片的例子。但是生成水印的文件到不少，如果我们把gif图片合成水印后，图片就不动了，所以我写了个小例子供大家参考。（如果你想在某个图片上打印个动感图标，这个类就能很好地实现，前提是你必须先将动感图标分解成几张单独的gif图片。当然你可以用程序来实现。）</strong></span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\"><strong>要用到</strong>&nbsp;&nbsp;AnimatedGifEncoder 类自行下载</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">=========================================</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">package com.test;</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">import java.awt.Graphics;<br/>import java.awt.Image;<br/>import java.awt.image.BufferedImage;<br/>import java.io.ByteArrayOutputStream;<br/>import java.io.File;<br/>import java.io.FileOutputStream;<br/>import java.io.InputStream;<br/>import java.io.OutputStream;<br/>import javax.imageio.ImageIO;</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/><span style=\"font-size:18px\">public class MakeOver {<br/>&nbsp;<br/>&nbsp;public static void main(String[] args) {<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp;MakeOver mo = new MakeOver();<br/>&nbsp;&nbsp;mo.CreateGIF(&quot;e:/pic/test.gif&quot;,&quot;e:/map.gif&quot;,&quot;e:/pic/&quot;,82,395);<br/>&nbsp;&nbsp;&nbsp;//参数列表：输出图片地址，加水印的图片地址，动态图标地址，纵坐标，横坐标<br/>&nbsp;&nbsp;&nbsp;//注意：此 e:/pic/ 目录下的文件如下 1.gif 2.gif 3.gif 。。。。<br/>&nbsp;}</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">&nbsp;<br/>&nbsp;public void CreateGIF(String outputFileName,String path1,String path2,int height,int weidth){<br/>&nbsp;&nbsp;try {<br/>&nbsp;&nbsp;&nbsp;// 指定Frame的文件<br/>&nbsp;&nbsp;&nbsp;AnimatedGifEncoder e = new AnimatedGifEncoder();<br/>&nbsp;&nbsp;&nbsp;OutputStream os = new FileOutputStream(outputFileName); //输出图片<br/>&nbsp;&nbsp;&nbsp;e.start(os);// 开始处理<br/>&nbsp;&nbsp;&nbsp;e.setQuality(15);&nbsp;//设置图片质量<br/>&nbsp;&nbsp;&nbsp;e.setRepeat(0);&nbsp;&nbsp;//设置循环<br/>&nbsp;&nbsp;&nbsp;e.setDelay(500); // 设置延迟时间<br/>&nbsp;&nbsp;&nbsp;MakeOver abc = new MakeOver();&nbsp;&nbsp;//实例化图片合成类<br/>&nbsp;&nbsp;&nbsp;String path3 = &quot;&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//动态图片地址<br/>&nbsp;&nbsp;&nbsp;for (int i = 1; i &lt; 3; i++) {&nbsp;&nbsp;//此处只添加 2 张gif图片<br/>&nbsp;&nbsp;&nbsp;&nbsp;path3 = path2 + i +&quot;.gif&quot;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;BufferedImage im = abc.pressImage(path3,path1, weidth, height);<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.addFrame(im);// 循环加入Frame&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;e.finish();</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">&nbsp;&nbsp;} catch (Exception e) {<br/>&nbsp;&nbsp;&nbsp;System.out.println(e);<br/>&nbsp;&nbsp;&nbsp;e.printStackTrace();<br/>&nbsp;&nbsp;}<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;public&nbsp; BufferedImage pressImage(String pressImg,<br/>&nbsp;&nbsp;&nbsp;String targetImg, int x, int y) {<br/>&nbsp;&nbsp;try {<br/>&nbsp;&nbsp;&nbsp;// 目标文件<br/>&nbsp;&nbsp;&nbsp;File _file = new File(targetImg);<br/>&nbsp;&nbsp;&nbsp;Image src = ImageIO.read(_file);<br/>&nbsp;&nbsp;&nbsp;int wideth = src.getWidth(null);<br/>&nbsp;&nbsp;&nbsp;int height = src.getHeight(null);<br/>&nbsp;&nbsp;&nbsp;BufferedImage image = new BufferedImage(wideth, height,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferedImage.TYPE_INT_RGB);<br/>&nbsp;&nbsp;&nbsp;Graphics g = image.createGraphics();<br/>&nbsp;&nbsp;&nbsp;g.drawImage(src, 0, 0, wideth, height, null);</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">&nbsp;&nbsp;&nbsp;// 水印文件<br/>&nbsp;&nbsp;&nbsp;File _filebiao = new File(pressImg);<br/>&nbsp;&nbsp;&nbsp;Image src_biao = ImageIO.read(_filebiao);<br/>&nbsp;&nbsp;&nbsp;int wideth_biao = src_biao.getWidth(null);<br/>&nbsp;&nbsp;&nbsp;int height_biao = src_biao.getHeight(null);<br/>&nbsp;&nbsp;&nbsp;g.drawImage(src_biao, x,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y, wideth_biao, height_biao, null);<br/>&nbsp;&nbsp;&nbsp;// 水印文件结束<br/>&nbsp;&nbsp;&nbsp;g.dispose();</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">&nbsp;&nbsp;&nbsp;return image;</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">&nbsp;&nbsp;} catch (Exception e) {<br/>&nbsp;&nbsp;&nbsp;System.out.println(e);<br/>&nbsp;&nbsp;&nbsp;e.printStackTrace();<br/>&nbsp;&nbsp;}<br/>&nbsp;&nbsp;return null;<br/>&nbsp;}</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:18px\">}</span></p><p><br/></p>','2014-06-09 21:41:42',1,NULL,0),(129,'a','<p>asf</p>','2014-06-11 18:22:41',1,3,0),(144,'asd','<p>阿斯顿发</p>','2014-06-12 23:54:42',1,4,0),(146,'啊啊啊阿斯顿','<p>阿斯达</p>','2014-06-12 23:59:05',1,2,0),(150,'操作系统测试','<p>阿斯达</p>','2014-06-13 20:44:55',1,4,0),(151,'啦啦啦','<p>啊</p>','2014-06-14 00:32:48',1,4,0),(154,'测试','<p>阿萨</p>','2014-06-15 19:38:58',39,2,0),(157,'测试','<p>阿萨</p>','2014-06-15 19:45:40',39,NULL,0),(158,'发帖测试一下','<p>阿斯顿发</p>','2014-06-17 20:31:13',1,NULL,0),(159,'asdfa','<p>sadfasdfas</p>','2014-06-20 01:04:59',1,NULL,0),(160,'Hibernate 参数设置一览表','<table summary=\"                Hibernate配置属性     \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.dialect</span></tt></td><td style=\"font-size: 12px\">一个Hibernate&nbsp;<tt><span style=\"font-family:新宋体\">Dialect</span></tt>类名允许Hibernate针对特定的关系数据库生成优化的SQL.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">full.classname.of.Dialect</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.show_sql</span></tt></td><td style=\"font-size: 12px\">输出所有SQL语句到控制台. 有一个另外的选择是把<tt><span style=\"font-family:新宋体\">org.hibernate.SQL</span></tt>这个log category设为<tt><span style=\"font-family:新宋体\">debug</span></tt>。&nbsp;eg.&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.format_sql</span></tt></td><td style=\"font-size: 12px\">在log和console中打印出更漂亮的SQL。&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.default_schema</span></tt></td><td style=\"font-size: 12px\">在生成的SQL中, 将给定的schema/tablespace附加于非全限定名的表名上.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">SCHEMA_NAME</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.default_catalog</span></tt></td><td style=\"font-size: 12px\">在生成的SQL中, 将给定的catalog附加于非全限定名的表名上.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">CATALOG_NAME</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.session_factory_name</span></tt></td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">SessionFactory</span></tt>创建后，将自动使用这个名字绑定到JNDI中.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">jndi/composite/name</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.max_fetch_depth</span></tt></td><td style=\"font-size: 12px\">为单向关联(一对一, 多对一)的外连接抓取（outer join fetch）树设置最大深度. 值为<tt><span style=\"font-family:新宋体\">0</span></tt>意味着将关闭默认的外连接抓取.&nbsp;取值&nbsp;建议在<tt><span style=\"font-family:新宋体\">0</span></tt>到<tt><span style=\"font-family:新宋体\">3</span></tt>之间取值</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.default_batch_fetch_size</span></tt></td><td style=\"font-size: 12px\">为Hibernate关联的批量抓取设置默认数量.&nbsp;取值&nbsp;建议的取值为<tt><span style=\"font-family:新宋体\">4</span></tt>,&nbsp;<tt><span style=\"font-family:新宋体\">8</span></tt>, 和<tt><span style=\"font-family:新宋体\">16</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.default_entity_mode</span></tt></td><td style=\"font-size: 12px\">为由这个<tt><span style=\"font-family:新宋体\">SessionFactory</span></tt>打开的所有Session指定默认的实体表现模式.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">dynamic-map</span></tt>,&nbsp;<tt><span style=\"font-family:新宋体\">dom4j</span></tt>,&nbsp;<tt><span style=\"font-family:新宋体\">pojo</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.order_updates</span></tt></td><td style=\"font-size: 12px\">强制Hibernate按照被更新数据的主键，为SQL更新排序。这么做将减少在高并发系统中事务的死锁。&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.generate_statistics</span></tt></td><td style=\"font-size: 12px\">如果开启, Hibernate将收集有助于性能调节的统计数据.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.use_identifer_rollback</span></tt></td><td style=\"font-size: 12px\">如果开启, 在对象被删除时生成的标识属性将被重设为默认值.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.use_sql_comments</span></tt></td><td style=\"font-size: 12px\">如果开启, Hibernate将在SQL中生成有助于调试的注释信息, 默认值为<tt><span style=\"font-family:新宋体\">false</span></tt>.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr></tbody></table><p><a name=\"configuration-jdbc-properties\"></a></p><p><strong>表&nbsp;3.4.&nbsp; Hibernate JDBC和连接(connection)属性</strong></p><table summary=\"                Hibernate JDBC和连接(connection)属性     \"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jdbc.fetch_size</span></tt></td><td style=\"font-size: 12px\">非零值，指定JDBC抓取数量的大小 (调用<tt><span style=\"font-family:新宋体\">Statement.setFetchSize()</span></tt>).</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jdbc.batch_size</span></tt></td><td style=\"font-size: 12px\">非零值，允许Hibernate使用JDBC2的批量更新.&nbsp;取值&nbsp;建议取<tt><span style=\"font-family:新宋体\">5</span></tt>到<tt><span style=\"font-family:新宋体\">30</span></tt>之间的值</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jdbc.batch_versioned_data</span></tt></td><td style=\"font-size: 12px\">如果你想让你的JDBC驱动从<tt><span style=\"font-family:新宋体\">executeBatch()</span></tt>返回正确的行计数 , 那么将此属性设为<tt><span style=\"font-family:新宋体\">true</span></tt>(开启这个选项通常是安全的). 同时，Hibernate将为自动版本化的数据使用批量DML. 默认值为<tt><span style=\"font-family:新宋体\">false</span></tt>.&nbsp;eg.&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jdbc.factory_class</span></tt></td><td style=\"font-size: 12px\">选择一个自定义的<tt><span style=\"font-family:新宋体\">Batcher</span></tt>. 多数应用程序不需要这个配置属性.&nbsp;eg.&nbsp;<tt><span style=\"font-family:新宋体\">classname.of.Batcher</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jdbc.use_scrollable_resultset</span></tt></td><td style=\"font-size: 12px\">允许Hibernate使用JDBC2的可滚动结果集. 只有在使用用户提供的JDBC连接时，这个选项才是必要的, 否则Hibernate会使用连接的元数据.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jdbc.use_streams_for_binary</span></tt></td><td style=\"font-size: 12px\">在JDBC读写<tt><span style=\"font-family:新宋体\">binary (二进制)</span></tt>或<tt><span style=\"font-family:新宋体\">serializable (可序列化)</span></tt>&nbsp;的类型时使用流(stream)(系统级属性).&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jdbc.use_get_generated_keys</span></tt></td><td style=\"font-size: 12px\">在数据插入数据库之后，允许使用JDBC3&nbsp;<tt><span style=\"font-family:新宋体\">PreparedStatement.getGeneratedKeys()</span></tt>&nbsp;来获取数据库生成的key(键)。需要JDBC3+驱动和JRE1.4+, 如果你的数据库驱动在使用Hibernate的标 识生成器时遇到问题，请将此值设为false. 默认情况下将使用连接的元数据来判定驱动的能力.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true|false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.connection.provider_class</span></tt></td><td style=\"font-size: 12px\">自定义<tt><span style=\"font-family:新宋体\">ConnectionProvider</span></tt>的类名, 此类用来向Hibernate提供JDBC连接.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">classname.of.ConnectionProvider</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.connection.isolation</span></tt></td><td style=\"font-size: 12px\">设置JDBC事务隔离级别. 查看<tt><span style=\"font-family:新宋体\">java.sql.Connection</span></tt>来了解各个值的具体意义, 但请注意多数数据库都不支持所有的隔离级别.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">1, 2, 4, 8</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.connection.autocommit</span></tt></td><td style=\"font-size: 12px\">允许被缓存的JDBC连接开启自动提交(autocommit) (不建议).&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.connection.release_mode</span></tt></td><td style=\"font-size: 12px\">指定Hibernate在何时释放JDBC连接. 默认情况下,直到Session被显式关闭或被断开连接时,才会释放JDBC连接. 对于应用程序服务器的JTA数据源, 你应当使用<tt><span style=\"font-family:新宋体\">after_statement</span></tt>, 这样在每次JDBC调用后，都会主动的释放连接. 对于非JTA的连接, 使用<tt><span style=\"font-family:新宋体\">after_transaction</span></tt>在每个事务结束时释放连接是合理的.&nbsp;<tt><span style=\"font-family:新宋体\">auto</span></tt>将为JTA和CMT事务策略选择<tt><span style=\"font-family:新宋体\">after_statement</span></tt>, 为JDBC事务策略选择<tt><span style=\"font-family:新宋体\">after_transaction</span></tt>.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">on_close</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">after_transaction</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">after_statement</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">auto</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.connection.<em>&lt;propertyName&gt;</em></span></tt></td><td style=\"font-size: 12px\">将JDBC属性<tt><span style=\"font-family:新宋体\">propertyName</span></tt>传递到<tt><span style=\"font-family:新宋体\">DriverManager.getConnection()</span></tt>中去.</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.jndi.<em>&lt;propertyName&gt;</em></span></tt></td><td style=\"font-size: 12px\">将属性<tt><span style=\"font-family:新宋体\">propertyName</span></tt>传递到JNDI&nbsp;<tt><span style=\"font-family:新宋体\">InitialContextFactory</span></tt>中去.</td></tr></tbody></table><p><a name=\"configuration-cache-properties\"></a></p><p><strong>表&nbsp;3.5.&nbsp; Hibernate缓存属性</strong></p><table summary=\"                Hibernate缓存属性     \"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cache.provider_class</span></tt></td><td style=\"font-size: 12px\">自定义的<tt><span style=\"font-family:新宋体\">CacheProvider</span></tt>的类名.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">classname.of.CacheProvider</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cache.use_minimal_puts</span></tt></td><td style=\"font-size: 12px\">以频繁的读操作为代价, 优化二级缓存来最小化写操作. 在Hibernate3中，这个设置对的集群缓存非常有用, 对集群缓存的实现而言，默认是开启的.&nbsp;取值<tt><span style=\"font-family:新宋体\">true|false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cache.use_query_cache</span></tt></td><td style=\"font-size: 12px\">允许查询缓存, 个别查询仍然需要被设置为可缓存的.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true|false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cache.use_second_level_cache</span></tt></td><td style=\"font-size: 12px\">能用来完全禁止使用二级缓存. 对那些在类的映射定义中指定<tt><span style=\"font-family:新宋体\">&lt;cache&gt;</span></tt>的类，会默认开启二级缓存.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true|false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cache.query_cache_factory</span></tt></td><td style=\"font-size: 12px\">自定义实现<tt><span style=\"font-family:新宋体\">QueryCache</span></tt>接口的类名, 默认为内建的<tt><span style=\"font-family:新宋体\">StandardQueryCache</span></tt>.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">classname.of.QueryCache</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cache.region_prefix</span></tt></td><td style=\"font-size: 12px\">二级缓存区域名的前缀.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">prefix</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cache.use_structured_entries</span></tt></td><td style=\"font-size: 12px\">强制Hibernate以更人性化的格式将数据存入二级缓存.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true|false</span></tt></td></tr></tbody></table><p><a name=\"configuration-transaction-properties\"></a></p><p><strong>表&nbsp;3.6.&nbsp; Hibernate事务属性</strong></p><table summary=\"                Hibernate事务属性     \"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.transaction.factory_class</span></tt></td><td style=\"font-size: 12px\">一个<tt><span style=\"font-family:新宋体\">TransactionFactory</span></tt>的类名, 用于Hibernate&nbsp;<tt><span style=\"font-family:新宋体\">Transaction</span></tt>&nbsp;API (默认为<tt><span style=\"font-family:新宋体\">JDBCTransactionFactory</span></tt>).&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">classname.of.TransactionFactory</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">jta.UserTransaction</span></tt></td><td style=\"font-size: 12px\">一个JNDI名字，被<tt><span style=\"font-family:新宋体\">JTATransactionFactory</span></tt>用来从应用服务器获取JTA&nbsp;<tt><span style=\"font-family:新宋体\">UserTransaction</span></tt>.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">jndi/composite/name</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.transaction.manager_lookup_class</span></tt></td><td style=\"font-size: 12px\">一个<tt><span style=\"font-family:新宋体\">TransactionManagerLookup</span></tt>的类名 - 当使用JVM级缓存，或在JTA环境中使用hilo生成器的时候需要该类.&nbsp;取值<tt><span style=\"font-family:新宋体\">classname.of.TransactionManagerLookup</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.transaction.flush_before_completion</span></tt></td><td style=\"font-size: 12px\">如果开启, session在事务完成后将被自动清洗(flush)。 现在更好的方法是使用自动session上下文管理。取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.transaction.auto_close_session</span></tt></td><td style=\"font-size: 12px\">如果开启, session在事务完成后将被自动关闭。 现在更好的方法是使用自动session上下文管理。取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr></tbody></table><p><a name=\"configuration-misc-properties\"></a></p><p><strong>表&nbsp;3.7.&nbsp; 其他属性</strong></p><table summary=\"                其他属性     \"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.current_session_context_class</span></tt></td><td style=\"font-size: 12px\">为&quot;当前&quot;&nbsp;<tt><span style=\"font-family:新宋体\">Session</span></tt>指定一个(自定义的)策略。eg.&nbsp;<tt><span style=\"font-family:新宋体\">jta</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">thread</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">custom.Class</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.query.factory_class</span></tt></td><td style=\"font-size: 12px\">选择HQL解析器的实现.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">org.hibernate.hql.ast.ASTQueryTranslatorFactory</span></tt>&nbsp;or&nbsp;<tt><span style=\"font-family:新宋体\">org.hibernate.hql.classic.ClassicQueryTranslatorFactory</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.query.substitutions</span></tt></td><td style=\"font-size: 12px\">将Hibernate查询中的符号映射到SQL查询中的符号 (符号可能是函数名或常量名字).&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">hqlLiteral=SQL_LITERAL, hqlFunction=SQLFUNC</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.hbm2ddl.auto</span></tt></td><td style=\"font-size: 12px\">在<tt><span style=\"font-family:新宋体\">SessionFactory</span></tt>创建时，自动检查数据库结构，或者将数据库schema的DDL导出到数据库. 使用&nbsp;<tt><span style=\"font-family:新宋体\">create-drop</span></tt>时,在显式关闭<tt><span style=\"font-family:新宋体\">SessionFactory</span></tt>时，将drop掉数据库schema.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">validate</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">update</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">create</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">create-drop</span></tt></td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">hibernate.cglib.use_reflection_optimizer</span></tt></td><td style=\"font-size: 12px\">开启CGLIB来替代运行时反射机制(系统级属性). 反射机制有时在除错时比较有用. 注意即使关闭这个优化, Hibernate还是需要CGLIB. 你不能在<tt><span style=\"font-family:新宋体\">hibernate.cfg.xml</span></tt>中设置此属性.&nbsp;取值&nbsp;<tt><span style=\"font-family:新宋体\">true</span></tt>&nbsp;|&nbsp;<tt><span style=\"font-family:新宋体\">false</span></tt></td></tr></tbody></table><h3 style=\"font-size: 13px;color: rgb(0, 0, 0)\"><a name=\"configuration-optional-dialects\"></a>3.4.1.&nbsp; SQL方言</h3><p>你应当总是为你的数据库将<tt><span style=\"font-family:新宋体\">hibernate.dialect</span></tt>属性设置成正确的&nbsp;<tt><span style=\"font-family:新宋体\">org.hibernate.dialect.Dialect</span></tt>子类. 如果你指定一种方言, Hibernate将为上面列出的一些属性使用合理的默认值, 为你省去了手工指定它们的功夫.</p><p><a name=\"sql-dialects\"></a></p><p><strong>表&nbsp;3.8.&nbsp; Hibernate SQL方言 (<tt><span style=\"font-family:新宋体\">hibernate.dialect</span></tt>)</strong></p><table summary=\"                    Hibernate SQL方言 (hibernate.dialect)     \"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>RDBMS</th><th>方言</th></tr></thead><tbody><tr><td style=\"font-size: 12px\">DB2</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.DB2Dialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">DB2 AS/400</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.DB2400Dialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">DB2 OS390</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.DB2390Dialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">PostgreSQL</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.PostgreSQLDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">MySQL</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.MySQLDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">MySQL with InnoDB</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.MySQLInnoDBDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">MySQL with MyISAM</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.MySQLMyISAMDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Oracle (any version)</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.OracleDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Oracle 9i/10g</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.Oracle9Dialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Sybase</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.SybaseDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Sybase Anywhere</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.SybaseAnywhereDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Microsoft SQL Server</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.SQLServerDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">SAP DB</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.SAPDBDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Informix</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.InformixDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">HypersonicSQL</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.HSQLDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Ingres</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.IngresDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Progress</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.ProgressDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Mckoi SQL</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.MckoiDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Interbase</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.InterbaseDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Pointbase</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.PointbaseDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">FrontBase</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.FrontbaseDialect</span></tt></td></tr><tr><td style=\"font-size: 12px\">Firebird</td><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.dialect.FirebirdDialect</span></tt></td></tr></tbody></table><p><strong>表&nbsp;3.9.&nbsp; Hibernate日志类别</strong></p><table summary=\"                    Hibernate日志类别     \"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>类别</th><th>功能</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.SQL</span></tt></td><td style=\"font-size: 12px\">在所有SQL DML语句被执行时为它们记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.type</span></tt></td><td style=\"font-size: 12px\">为所有JDBC参数记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.tool.hbm2ddl</span></tt></td><td style=\"font-size: 12px\">在所有SQL DDL语句执行时为它们记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.pretty</span></tt></td><td style=\"font-size: 12px\">在session清洗(flush)时，为所有与其关联的实体(最多20个)的状态记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.cache</span></tt></td><td style=\"font-size: 12px\">为所有二级缓存的活动记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction</span></tt></td><td style=\"font-size: 12px\">为事务相关的活动记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.jdbc</span></tt></td><td style=\"font-size: 12px\">为所有JDBC资源的获取记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.hql.AST</span></tt></td><td style=\"font-size: 12px\">在解析查询的时候,记录HQL和SQL的AST分析日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.secure</span></tt></td><td style=\"font-size: 12px\">为JAAS认证请求做日志</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate</span></tt></td><td style=\"font-size: 12px\">为任何Hibernate相关信息做日志 (信息量较大, 但对查错非常有帮助)</td></tr></tbody></table><p><strong>表&nbsp;3.10.&nbsp;JTA TransactionManagers</strong></p><table summary=\"JTA TransactionManagers\"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>Transaction工厂类</th><th>应用程序服务器</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.JBossTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">JBoss</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.WeblogicTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">Weblogic</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.WebSphereTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">WebSphere</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.WebSphereExtendedJTATransactionLookup</span></tt></td><td style=\"font-size: 12px\">WebSphere 6</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.OrionTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">Orion</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.ResinTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">Resin</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.JOTMTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">JOTM</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.JOnASTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">JOnAS</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.JRun4TransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">JRun4</td></tr><tr><td style=\"font-size: 12px\"><tt><span style=\"font-family:新宋体\">org.hibernate.transaction.BESTransactionManagerLookup</span></tt></td><td style=\"font-size: 12px\">Borland ES</td></tr></tbody></table><p><br/>posted on 2008-04-22 18:28&nbsp;<a href=\"http://www.blogjava.net/i369/\" style=\"color: rgb(68, 68, 68)\">芦苇</a>&nbsp;阅读(30827)&nbsp;<a href=\"http://www.blogjava.net/i369/articles/194855.html#Post\" style=\"color: rgb(68, 68, 68)\">评论(1)</a>&nbsp;&nbsp;<a href=\"http://www.blogjava.net/i369/admin/EditArticles.aspx?postid=194855\" style=\"color: rgb(68, 68, 68)\">编辑</a>&nbsp;&nbsp;<a href=\"http://www.blogjava.net/i369/AddToFavorite.aspx?id=194855\" style=\"color: rgb(68, 68, 68)\">收藏</a>&nbsp;所属分类:&nbsp;<a href=\"http://www.blogjava.net/i369/category/18312.html\" style=\"color: rgb(68, 68, 68)\">Hibernate</a><img src=\"/ueditor/jsp/upload/image/20140620/1403228997251061860.jpg\" width=\"1\" height=\"1\" style=\"font-family: Verdana, Arial, Geneva, Helvetica, sans-serif;font-size: 12px;white-space: normal\"/><a name=\"pagedcomment\"></a><a name=\"feedback\"></a></p><h3 style=\"font-size: 13px\">Feedback</h3><p><a title=\"permalink: re: Hibernate 参数设置一览表\" href=\"http://www.blogjava.net/i369/articles/194855.html#234281\" style=\"color: rgb(0, 0, 0)\">#</a>&nbsp;<a name=\"234281\"></a>re: Hibernate 参数设置一览表<a name=\"Post\"></a>&nbsp;2008-10-14 18:13&nbsp;<a id=\"AjaxHolder_Comments_CommentList_ctl00_NameLink\" href=\"http://www.blogjava.net/i369/\" target=\"_blank\" style=\"color: rgb(0, 0, 0)\">芦苇</a></p><h3 style=\"font-size: 13px;color: rgb(0, 0, 0)\">SQL方言</h3><p><strong>1、Hibernate JDBC属性</strong>&nbsp;<br/><br/></p><table summary=\"                Hibernate JDBC属性             \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.driver_class</tt></td><td style=\"font-size: 12px\"><em>jdbc驱动类</em></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.url</tt></td><td style=\"font-size: 12px\"><em>jdbc URL</em></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.username</tt></td><td style=\"font-size: 12px\"><em>数据库用户</em></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.password</tt></td><td style=\"font-size: 12px\"><em>数据库用户密码</em></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.pool_size</tt></td><td style=\"font-size: 12px\"><em>连接池容量上限数目</em></td></tr></tbody></table><p>注：使用C3P0的properties样例代码：<br/><span style=\"color: rgb(0, 0, 0)\">hibernate.connection.driver_class&nbsp;=&nbsp;org.postgresql.Driver<br/>hibernate.connection.url&nbsp;=&nbsp;jdbc:postgresql://localhost/mydatabase<br/>hibernate.connection.username&nbsp;=&nbsp;myuser<br/>hibernate.connection.password&nbsp;=&nbsp;secret<br/>hibernate.c3p0.min_size=5<br/>hibernate.c3p0.max_size=20<br/>hibernate.c3p0.timeout=1800<br/>hibernate.c3p0.max_statements=50<br/>hibernate.dialect&nbsp;=&nbsp;org.hibernate.dialect.PostgreSQLDialect</span><br/><strong>2、Hibernate的数据源属性</strong><br/></p><table height=\"182\" width=\"544\" summary=\"                Hibernate数据源属性             \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.datasource</tt></td><td style=\"font-size: 12px\"><em>数据源JNDI名字</em></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jndi.url</tt></td><td style=\"font-size: 12px\"><em>JNDI提供者的URL</em>&nbsp;(可选)</td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jndi.class</tt></td><td style=\"font-size: 12px\"><em>JNDI&nbsp;<tt>InitialContextFactory</tt>类</em>&nbsp;(可选)</td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.username</tt></td><td style=\"font-size: 12px\"><em>数据库用户</em>&nbsp;(可选)</td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.password</tt></td><td style=\"font-size: 12px\"><em>数据库用户密码</em>&nbsp;(可选)</td></tr></tbody></table><p>注：应用程序服务器JNDI数据源的<tt>hibernate.properties</tt>样例代码：<br/><span style=\"color: rgb(0, 0, 0)\">hibernate.connection.datasource&nbsp;=&nbsp;java:/comp/env/jdbc/test<br/>hibernate.transaction.factory_class&nbsp;=&nbsp;\\<br/>&nbsp;&nbsp;&nbsp;&nbsp;org.hibernate.transaction.JTATransactionFactory<br/>hibernate.transaction.manager_lookup_class&nbsp;=&nbsp;\\<br/>&nbsp;&nbsp;&nbsp;&nbsp;org.hibernate.transaction.JBossTransactionManagerLookup<br/>hibernate.dialect&nbsp;=&nbsp;org.hibernate.dialect.PostgreSQLDialect</span><br/>3、<strong>Hibernate配置属性（可选）</strong><br/></p><table height=\"870\" width=\"745\" summary=\"                Hibernate配置属性             \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>hibernate.dialect</tt></td><td style=\"font-size: 12px\">一个Hibernate&nbsp;<tt>Dialect</tt>类名允许Hibernate针对特定的关系数据库生成优化的SQL.<p>取值<tt>full.classname.of.Dialect</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.show_sql</tt></td><td style=\"font-size: 12px\">输出所有SQL语句到控制台.<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.format_sql</tt></td><td style=\"font-size: 12px\">在log和console中打印出更漂亮的sql.<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.default_schema</tt></td><td style=\"font-size: 12px\">在生成的SQL中, 将给定的schema/tablespace附加于非全限定名的表名上.<p>取值<tt>SCHEMA_NAME</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.default_catalog</tt></td><td style=\"font-size: 12px\">在生成的SQL中, 将给定的catalog附加于没全限定名的表名上.<p>取值<tt>CATALOG_NAME</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.session_factory_name</tt></td><td style=\"font-size: 12px\"><tt>SessionFactory</tt>创建后，将自动使用这个名字绑定到JNDI中.<p>取值<tt>jndi/composite/name</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.max_fetch_depth</tt></td><td style=\"font-size: 12px\">为单向关联(一对一, 多对一)的外连接抓取（outer join fetch）树设置最大深度. 值为<tt>0</tt>意味着将关闭默认的外连接抓取.<p>取值&nbsp;建议在<tt>0</tt>到<tt>3</tt>之间取值</p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.default_batch_fetch_size</tt></td><td style=\"font-size: 12px\">为Hibernate关联的批量抓取设置默认数量.<p>取值&nbsp;建议的取值为<tt>4</tt>,&nbsp;<tt>8</tt>, 和<tt>16</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.default_entity_mode</tt></td><td style=\"font-size: 12px\">为由这个<tt>SessionFactory</tt>打开的所有Session指定默认的实体表现模式.<p>取值<tt>dynamic-map</tt>,&nbsp;<tt>dom4j</tt>,&nbsp;<tt>pojo</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.order_updates</tt></td><td style=\"font-size: 12px\">强制Hibernate按照被更新数据的主键，为SQL更新排序。这么做将减少在高并发系统中事务的死锁。<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.generate_statistics</tt></td><td style=\"font-size: 12px\">如果开启, Hibernate将收集有助于性能调节的统计数据.<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.use_identifer_rollback</tt></td><td style=\"font-size: 12px\">如果开启, 在对象被删除时生成的标识属性将被重设为默认值.<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.use_sql_comments</tt></td><td style=\"font-size: 12px\">如果开启, Hibernate将在SQL中生成有助于调试的注释信息, 默认值为<tt>false</tt>.<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr></tbody></table><p><br/>4、<strong>Hibernate JDBC和连接(connection)属性<br/></strong></p><table summary=\"                Hibernate JDBC和连接(connection)属性             \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>hibernate.jdbc.fetch_size</tt></td><td style=\"font-size: 12px\">非零值，指定JDBC抓取数量的大小 (调用<tt>Statement.setFetchSize()</tt>).</td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jdbc.batch_size</tt></td><td style=\"font-size: 12px\">非零值，允许Hibernate使用JDBC2的批量更新.<p>取值&nbsp;建议取<tt>5</tt>到<tt>30</tt>之间的值</p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jdbc.batch_versioned_data</tt></td><td style=\"font-size: 12px\">如果你想让你的JDBC驱动从<tt>executeBatch()</tt>返回正确的行计数 , 那么将此属性设为<tt>true</tt>(开启这个选项通常是安全的). 同时，Hibernate将为自动版本化的数据使用批量DML. 默认值为<tt>false</tt>.<p>eg.<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jdbc.factory_class</tt></td><td style=\"font-size: 12px\">选择一个自定义的<tt>Batcher</tt>. 多数应用程序不需要这个配置属性.<p>eg.<tt>classname.of.Batcher</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jdbc.use_scrollable_resultset</tt></td><td style=\"font-size: 12px\">允许Hibernate使用JDBC2的可滚动结果集. 只有在使用用户提供的JDBC连接时，这个选项才是必要的, 否则Hibernate会使用连接的元数据.<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jdbc.use_streams_for_binary</tt></td><td style=\"font-size: 12px\">在JDBC读写<tt>binary (二进制)</tt>或<tt>serializable (可序列化)</tt>&nbsp;的类型时使用流(stream)(系统级属性).<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jdbc.use_get_generated_keys</tt></td><td style=\"font-size: 12px\">在数据插入数据库之后，允许使用JDBC3&nbsp;<tt>PreparedStatement.getGeneratedKeys()</tt>&nbsp;来获取数据库生成的key(键)。需要JDBC3+驱动和JRE1.4+, 如果你的数据库驱动在使用Hibernate的标 识生成器时遇到问题，请将此值设为false. 默认情况下将使用连接的元数据来判定驱动的能力.<p>取值<tt>true|false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.provider_class</tt></td><td style=\"font-size: 12px\">自定义<tt>ConnectionProvider</tt>的类名, 此类用来向Hibernate提供JDBC连接.<p>取值<tt>classname.of.ConnectionProvider</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.isolation</tt></td><td style=\"font-size: 12px\">设置JDBC事务隔离级别. 查看<tt>java.sql.Connection</tt>来了解各个值的具体意义, 但请注意多数数据库都不支持所有的隔离级别.<p>取值<tt>1, 2, 4, 8</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.autocommit</tt></td><td style=\"font-size: 12px\">允许被缓存的JDBC连接开启自动提交(autocommit) (不建议).<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.release_mode</tt></td><td style=\"font-size: 12px\">指定Hibernate在何时释放JDBC连接. 默认情况下,直到Session被显式关闭或被断开连接时,才会释放JDBC连接. 对于应用程序服务器的JTA数据源, 你应当使用<tt>after_statement</tt>, 这样在每次JDBC调用后，都会主动的释放连接. 对于非JTA的连接, 使用<tt>after_transaction</tt>在每个事务结束时释放连接是合理的.&nbsp;<tt>auto</tt>将为JTA和CMT事务策略选择<tt>after_statement</tt>, 为JDBC事务策略选择<tt>after_transaction</tt>.<p>取值<tt>on_close</tt>&nbsp;|&nbsp;<tt>after_transaction</tt>&nbsp;|&nbsp;<tt>after_statement</tt>&nbsp;|&nbsp;<tt>auto</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.connection.<em>&lt;propertyName&gt;</em></tt></td><td style=\"font-size: 12px\">将JDBC属性<tt>propertyName</tt>传递到<tt>DriverManager.getConnection()</tt>中去.</td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.jndi.<em>&lt;propertyName&gt;</em></tt></td><td style=\"font-size: 12px\">将属性<tt>propertyName</tt>传递到JNDI&nbsp;<tt>InitialContextFactory</tt>中去.</td></tr></tbody></table><p><br/><strong>5、Hibernate缓存属性<br/></strong></p><table summary=\"                Hibernate缓存属性             \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>hibernate.cache.provider_class</tt></td><td style=\"font-size: 12px\">自定义的<tt>CacheProvider</tt>的类名.<p>取值<tt>classname.of.CacheProvider</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.cache.use_minimal_puts</tt></td><td style=\"font-size: 12px\">以频繁的读操作为代价, 优化二级缓存来最小化写操作. 在Hibernate3中，这个设置对的集群缓存非常有用, 对集群缓存的实现而言，默认是开启的.<p>取值<tt>true|false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.cache.use_query_cache</tt></td><td style=\"font-size: 12px\">允许查询缓存, 个别查询仍然需要被设置为可缓存的.<p>取值<tt>true|false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.cache.use_second_level_cache</tt></td><td style=\"font-size: 12px\">能用来完全禁止使用二级缓存. 对那些在类的映射定义中指定<tt>&lt;cache&gt;</tt>的类，会默认开启二级缓存.<p>取值<tt>true|false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.cache.query_cache_factory</tt></td><td style=\"font-size: 12px\">自定义的实现<tt>QueryCache</tt>接口的类名, 默认为内建的<tt>StandardQueryCache</tt>.<p>取值<tt>classname.of.QueryCache</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.cache.region_prefix</tt></td><td style=\"font-size: 12px\">二级缓存区域名的前缀.<p>取值<tt>prefix</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.cache.use_structured_entries</tt></td><td style=\"font-size: 12px\">强制Hibernate以更人性化的格式将数据存入二级缓存.<p>取值<tt>true|false</tt></p></td></tr></tbody></table><p><br/>6、<strong>Hibernate事务属性<br/></strong></p><table summary=\"                Hibernate事务属性             \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>hibernate.transaction.factory_class</tt></td><td style=\"font-size: 12px\">一个<tt>TransactionFactory</tt>的类名, 用于Hibernate&nbsp;<tt>Transaction</tt>&nbsp;API (默认为<tt>JDBCTransactionFactory</tt>).<p>取值<tt>classname.of.TransactionFactory</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>jta.UserTransaction</tt></td><td style=\"font-size: 12px\">一个JNDI名字，被<tt>JTATransactionFactory</tt>用来从应用服务器获取JTA&nbsp;<tt>UserTransaction</tt>.<p>取值<tt>jndi/composite/name</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.transaction.manager_lookup_class</tt></td><td style=\"font-size: 12px\">一个<tt>TransactionManagerLookup</tt>的类名 - 当使用JVM级缓存，或在JTA环境中使用hilo生成器的时候需要该类.<p>取值<tt>classname.of.TransactionManagerLookup</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.transaction.flush_before_completion</tt></td><td style=\"font-size: 12px\">如果开启, session在事务完成后将被自动清洗(flush). (在Hibernate和CMT一起使用时很有用.)<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.transaction.auto_close_session</tt></td><td style=\"font-size: 12px\">如果开启, session在事务完成前将被自动关闭. (在Hibernate和CMT一起使用时很有用.)<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr></tbody></table><p><br/>7、<strong>其他属性<br/></strong></p><table summary=\"                其他属性             \"><thead><tr class=\"firstRow\"><th>属性名</th><th>用途</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>hibernate.query.factory_class</tt></td><td style=\"font-size: 12px\">选择HQL解析器的实现.<p>取值<tt>org.hibernate.hql.ast.ASTQueryTranslatorFactory</tt>&nbsp;or&nbsp;<tt>org.hibernate.hql.classic.ClassicQueryTranslatorFactory</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.query.substitutions</tt></td><td style=\"font-size: 12px\">将Hibernate查询中的符号映射到SQL查询中的符号 (符号可能是函数名或常量名字).<p>取值<tt>hqlLiteral=SQL_LITERAL, hqlFunction=SQLFUNC</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.hbm2ddl.auto</tt></td><td style=\"font-size: 12px\">在<tt>SessionFactory</tt>创建时，自动将数据库schema的DDL导出到数据库. 使用&nbsp;<tt>create-drop</tt>时,在显式关闭<tt>SessionFactory</tt>时，将drop掉数据库schema.<p>取值<tt>update</tt>&nbsp;|&nbsp;<tt>create</tt>&nbsp;|&nbsp;<tt>create-drop</tt></p></td></tr><tr><td style=\"font-size: 12px\"><tt>hibernate.cglib.use_reflection_optimizer</tt></td><td style=\"font-size: 12px\">开启CGLIB来替代运行时反射机制(系统级属性). 反射机制有时在除错时比较有用. 注意即使关闭这个优化, Hibernate还是需要CGLIB. 你不能在<tt>hibernate.cfg.xml</tt>中设置此属性.<p>取值<tt>true</tt>&nbsp;|&nbsp;<tt>false</tt></p></td></tr></tbody></table><p><br/>8、<strong>SQL方言<br/></strong><strong>&nbsp;&nbsp; Hibernate SQL方言 (<tt>hibernate.dialect</tt>)</strong></p><table height=\"614\" width=\"520\" summary=\"                    Hibernate SQL方言 (hibernate.dialect)                 \"><colgroup><col/><col/></colgroup><thead><tr class=\"firstRow\"><th>RDBMS</th><th>方言</th></tr></thead><tbody><tr><td style=\"font-size: 12px\">DB2</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.DB2Dialect</tt></td></tr><tr><td style=\"font-size: 12px\">DB2 AS/400</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.DB2400Dialect</tt></td></tr><tr><td style=\"font-size: 12px\">DB2 OS390</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.DB2390Dialect</tt></td></tr><tr><td style=\"font-size: 12px\">PostgreSQL</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.PostgreSQLDialect</tt></td></tr><tr><td style=\"font-size: 12px\">MySQL</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.MySQLDialect</tt></td></tr><tr><td style=\"font-size: 12px\">MySQL with InnoDB</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.MySQLInnoDBDialect</tt></td></tr><tr><td style=\"font-size: 12px\">MySQL with MyISAM</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.MySQLMyISAMDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Oracle (any version)</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.OracleDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Oracle 9i/10g</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.Oracle9Dialect</tt></td></tr><tr><td style=\"font-size: 12px\">Sybase</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.SybaseDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Sybase Anywhere</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.SybaseAnywhereDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Microsoft SQL Server</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.SQLServerDialect</tt></td></tr><tr><td style=\"font-size: 12px\">SAP DB</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.SAPDBDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Informix</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.InformixDialect</tt></td></tr><tr><td style=\"font-size: 12px\">HypersonicSQL</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.HSQLDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Ingres</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.IngresDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Progress</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.ProgressDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Mckoi SQL</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.MckoiDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Interbase</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.InterbaseDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Pointbase</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.PointbaseDialect</tt></td></tr><tr><td style=\"font-size: 12px\">FrontBase</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.FrontbaseDialect</tt></td></tr><tr><td style=\"font-size: 12px\">Firebird</td><td style=\"font-size: 12px\"><tt>org.hibernate.dialect.FirebirdDialect</tt></td></tr></tbody></table><p><br/>9、<strong>Hibernate日志类别<br/></strong></p><table height=\"315\" width=\"745\" summary=\"                    Hibernate日志类别                 \"><thead><tr class=\"firstRow\"><th>类别</th><th>功能</th></tr></thead><tbody><tr><td style=\"font-size: 12px\"><tt>org.hibernate.SQL</tt></td><td style=\"font-size: 12px\">在所有SQL DML语句被执行时为它们记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.type</tt></td><td style=\"font-size: 12px\">为所有JDBC参数记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.tool.hbm2ddl</tt></td><td style=\"font-size: 12px\">在所有SQL DDL语句执行时为它们记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.pretty</tt></td><td style=\"font-size: 12px\">在session清洗(flush)时，为所有与其关联的实体(最多20个)的状态记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.cache</tt></td><td style=\"font-size: 12px\">为所有二级缓存的活动记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.transaction</tt></td><td style=\"font-size: 12px\">为事务相关的活动记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.jdbc</tt></td><td style=\"font-size: 12px\">为所有JDBC资源的获取记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.hql.ast</tt></td><td style=\"font-size: 12px\">为HQL和SQL的自动状态转换和其他关于查询解析的信息记录日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate.secure</tt></td><td style=\"font-size: 12px\">为JAAS认证请求做日志</td></tr><tr><td style=\"font-size: 12px\"><tt>org.hibernate</tt></td><td style=\"font-size: 12px\">为任何Hibernate相关信息做日志 (信息量较大, 但对查错非常有帮助)<br/><br/></td></tr></tbody></table><p><br/></p>','2014-06-20 09:50:07',1,2,1),(161,'SubVersion服务安装设置','<p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">原文出处：<a href=\"https://wiki.ubuntu.com/SubVersion\" class=\"external free\" title=\"https://wiki.ubuntu.com/SubVersion\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 16px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/lock_icon.gif); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">https://wiki.ubuntu.com/SubVersion</a></p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">原文作者：ubuntu.com</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">授权许可：<a href=\"http://www.creativecommons.cn/licenses/by-nc-sa/1.0/\" class=\"external text\" title=\"http://www.creativecommons.cn/licenses/by-nc-sa/1.0/\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">创作共用协议</a></p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">翻译人员：XueCan</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">校对人员：无</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">适用版本：所有版本</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">文章状态：翻译中</p><hr style=\"height: 1px; margin: 2em 0px; border-style: solid; border-color: rgb(204, 204, 204) rgb(255, 255, 255) rgb(255, 255, 255); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal; background-color: rgb(0, 0, 0);\"/><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><strong>本文档阐述了如何在 Ubuntu 上设置 Subversion（通常也被称为 svn）。我们假设本文的读者是具有一定经验的 Linux 用户和系统管理员。</strong></p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><br/></p><p><a id=\".E7.AE.80.E4.BB.8B\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E7.AE.80.E4.BB.8B\"></a></p><h3 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 16px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=2\" title=\"编辑段落：简介\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">简介</span></h3><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">如果您对 Subversion 还比较陌生，本节将给您一个关于 Subversion 的简要介绍。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Subversion 是一款开放源代码的版本控制系统。使用 Subversion，您可以重新加载源代码和文档的历史版本。Subversion 管理了源代码在各个时期的版本。一个文件树被集中放置在文件仓库中。这个文件仓库很像是一个传统的文件服务器，只不过它能够记住文件和目录的每一次变化。</p><p><a id=\".E5.81.87.E8.AE.BE\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.81.87.E8.AE.BE\"></a></p><h3 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 16px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=3\" title=\"编辑段落：假设\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">假设</span></h3><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">首先我们假设您能够在 Ubuntu 中操作 Linux 的命令、编辑文件、启动和停止服务。当然，我们还认为您的 Ubuntu 正在运行中，您可以使用</p><p><a id=\".E6.9C.AC.E6.96.87.E6.B6.89.E5.8F.8A.E7.9A.84.E8.8C.83.E5.9B.B4\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E6.9C.AC.E6.96.87.E6.B6.89.E5.8F.8A.E7.9A.84.E8.8C.83.E5.9B.B4\"></a></p><h3 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 16px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=4\" title=\"编辑段落：本文涉及的范围\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">本文涉及的范围</span></h3><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要通过 HTTP 协议访问 SVN 文件仓库，您需要安装并配置好 Web 服务器。Apache 2 被证实可以很好的与 SVN 一起工作。关于 Apache 2 的安装超出了本文的范围(<a href=\"https://help.ubuntu.com/community/ApacheHTTPserver\" class=\"external text\" title=\"https://help.ubuntu.com/community/ApacheHTTPserver\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 16px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/lock_icon.gif); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">关于Apache2 的安装可以 另见</a>) ，尽管如此，本文还是会涉及如何配置 Apache 2 使用 SVN。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">类似的，要通过 HTTPS 协议访问 SVN 文件仓库，您需要在您的 Apache 2 中安装并配置好数字证书，这也不在本文的讨论范围之中(<a href=\"https://help.ubuntu.com/community/forum/server/apache2/SSL\" class=\"external text\" title=\"https://help.ubuntu.com/community/forum/server/apache2/SSL\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 16px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/lock_icon.gif); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">另见</a>)。</p><p><a id=\".E5.AE.89.E8.A3.85\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.AE.89.E8.A3.85\"></a></p><h3 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 16px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=5\" title=\"编辑段落：安装\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">安装</span></h3><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">幸运的，Subversion 已经包含在 main 仓库中。所以，要安装 Subversion，您只需要简单的运行：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;sudo&nbsp;apt-get&nbsp;install&nbsp;subversion\n$&nbsp;sudo&nbsp;apt-get&nbsp;install&nbsp;libapache2-svn</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">如果系统报告了依赖关系的错误，请找出相应的软件包并安装它们。如果存在其它问题，也请自行解决。如果您依然不能解决这些问题，可以考虑通过 Ubuntu 的网站、Wiki、论坛或邮件列表寻求支持。</p><p><a id=\".E6.9C.8D.E5.8A.A1.E5.99.A8.E9.85.8D.E7.BD.AE\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E6.9C.8D.E5.8A.A1.E5.99.A8.E9.85.8D.E7.BD.AE\"></a></p><h3 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 16px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=6\" title=\"编辑段落：服务器配置\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">服务器配置</span></h3><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">您应该已经安装了上述的软件包。本节将阐述如何创建 SVN 文件仓库以及如何设置项目的访问权限。</p><p><a id=\".E5.88.9B.E5.BB.BA_SVN_.E4.BB.93.E5.BA.93\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.88.9B.E5.BB.BA_SVN_.E4.BB.93.E5.BA.93\"></a></p><h4 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 14px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; font-weight: normal; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=7\" title=\"编辑段落：创建 SVN 仓库\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">创建 SVN 仓库</span></h4><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">许多位置都可以放置 Subversion 文件仓库，其中两个最常用的是：/usr/local/svn 以及 /home/svn。为了在下面的描述中简单明了，我们假设您的 Subversion 文件仓库放在 /home/svn，并且你的项目名称是简单的“myproject”。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">同样的，也有许多常用的方式设置文件仓库的访问权限。然而，这也是安装过程中最经常出现错误的地方，因此我们会对此进行一个详细说明。通常的情况下，您应该创建一个名为“Subversion”的用户组，该组是SVN仓库所在的目录的拥有者。下面是一个快速的操作说明，有关内容请参考相关文档的详细说明：</p><ul style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p>在 Ubuntu 菜单上选择“系统-&gt;系统管理-&gt;用户和组”；</p></li></ul><ul style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p>切换到“组”标签；</p></li></ul><ul style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p>点击“添加组”按钮；</p></li></ul><ul style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p>组名为“subversion”；</p></li></ul><ul style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p>将您自己和“www-data”(Apache 用户)加入组成员中；</p></li></ul><ul style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p>点击“OK”以确认修改，关闭该程序。</p></li></ul><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">或者使用命令完成上述功能（增加组，并且把用户加到组里）：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;addgroup&nbsp;subversion\nsudo&nbsp;usermod&nbsp;-G&nbsp;subversion&nbsp;-a&nbsp;www-data</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">再或者直接使用命令编辑组文件&quot;sudo vi /etc/group&quot;，增加组和成员（不推荐）：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;sudo&nbsp;vi&nbsp;/etc/group</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">结果看上去，像这样。</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;cat&nbsp;/etc/group|grep&nbsp;subversion\nsubversion:x:1001:www-data,exp</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">您需要注销然后再登录以便您能够成为 subversion 组的一员，然后就可以执行签入文件（Check in，也称提交文件）的操作了。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">现在执行下面的命令</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;sudo&nbsp;mkdir&nbsp;/home/svn\n$&nbsp;cd&nbsp;/home/svn\n$&nbsp;sudo&nbsp;mkdir&nbsp;myproject\n$&nbsp;sudo&nbsp;chown&nbsp;-R&nbsp;www-data:subversion&nbsp;myproject</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">下面的命令用于创建 SVN 文件仓库：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;sudo&nbsp;svnadmin&nbsp;create&nbsp;/home/svn/myproject</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">赋予组成员对所有新加入文件仓库的文件拥有相应的权限：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;sudo&nbsp;chmod&nbsp;-R&nbsp;g+rws&nbsp;myproject</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">如果上面这个命令在创建SVN文件仓库之前运行，你可能在后续Check in的时候遇到如下错误：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">Can&#39;t&nbsp;open&nbsp;&#39;/home/svn/myproject/db/txn-current-lock&#39;:&nbsp;Permission&nbsp;denied</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">查看txn-current-lock文件的权限和用户以及组信息，应该类似于：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;ls&nbsp;-l&nbsp;/home/svn/myproject/db/txn-current-lock\n-rw-rwSr--&nbsp;1&nbsp;root&nbsp;subversion&nbsp;&nbsp;0&nbsp;&nbsp;2009-06-18&nbsp;&nbsp;15:33&nbsp;&nbsp;txn-current-lock</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">除了权限以外，用户及其组如果不对，则仍然会遇到上述问题，可以再次运行命令：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;sudo&nbsp;chown&nbsp;-R&nbsp;www-data:subversion&nbsp;myproject</pre><p><a id=\".E8.AE.BF.E9.97.AE.E6.96.B9.E5.BC.8F\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E8.AE.BF.E9.97.AE.E6.96.B9.E5.BC.8F\"></a></p><h3 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 16px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=8\" title=\"编辑段落：访问方式\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">访问方式</span></h3><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Subversion 文件仓库可以通过许多不同的方式进行访问（Check Out，签出）——通过本地硬盘，或者通过各种网络协议。无论如何，文件仓库的位置总是使用 URL 来表示。下表显示了不同的 URL 模式对应的访问方法：</p><table cellspacing=\"0\"><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><strong>模式</strong></td><td style=\"font-size: small;\"><strong>访问方法</strong></td></tr><tr><td style=\"font-size: small;\">file:///</td><td style=\"font-size: small;\">直接访问本地硬盘上文件仓库</td></tr><tr><td style=\"font-size: small;\">http://</td><td style=\"font-size: small;\">通过 WebDAV 协议访问支持 Subversion 的 Apache 2 Web 服务器</td></tr><tr><td style=\"font-size: small;\">https://</td><td style=\"font-size: small;\">类似&nbsp;<a href=\"http://xn--%2C-9f5b97d/\" class=\"external free\" title=\"http://，支持\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">http://，支持</a>&nbsp;SSL 加密</td></tr><tr><td style=\"font-size: small;\">svn://</td><td style=\"font-size: small;\">通过自带协议访问 svnserve 服务器</td></tr><tr><td style=\"font-size: small;\">svn+ssh://</td><td style=\"font-size: small;\">类似 svn://，支持通过 SSH 通道</td></tr></tbody></table><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><br/>本节中，我们将看到如何配置 SVN 以使之能够通过所有的方法得以访问。当然这里我们之讨论基本的方法。要了解更高级的用途，我们推荐您阅读<a href=\"http://svnbook.red-bean.com/\" class=\"external text\" title=\"http://svnbook.red-bean.com/\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">《使用 Subversion 进行版本控制》在线电子书</a>。</p><p><a id=\".E7.9B.B4.E6.8E.A5.E8.AE.BF.E9.97.AE.E6.96.87.E4.BB.B6.E4.BB.93.E5.BA.93.28file:.2F.2F.29\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E7.9B.B4.E6.8E.A5.E8.AE.BF.E9.97.AE.E6.96.87.E4.BB.B6.E4.BB.93.E5.BA.93.28file:.2F.2F.29\"></a></p><h4 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 14px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; font-weight: normal; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=9\" title=\"编辑段落：直接访问文件仓库(file://)\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">直接访问文件仓库(file://)</span></h4><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">这是所有访问方式中最简单的。它不需要事先运行任何 SVN 服务。这种访问方式用于访问本地的 SVN 文件仓库。语法是：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;svn&nbsp;co&nbsp;file:///home/svn/myproject\n或者\n$&nbsp;svn&nbsp;co&nbsp;file://localhost/home/svn/myproject</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><em>注意：如果您并不确定主机的名称，您必须使用三个斜杠(///)，而如果您指定了主机的名称，则您必须使用两个斜杠(//).</em></p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">对文件仓库的访问权限基于文件系统的权限。如果该用户具有读/写权限，那么他/她就可以签出/提交修改。如果您像前面我们说描述的那样设置了相应的组，您可以简单的将一个用户添加到“subversion”组中以使其具有签出和提交的权限。</p><p><a id=\".E9.80.9A.E8.BF.87_WebDAV_.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28http:.2F.2F.29\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E9.80.9A.E8.BF.87_WebDAV_.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28http:.2F.2F.29\"></a></p><h4 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 14px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; font-weight: normal; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=10\" title=\"编辑段落：通过 WebDAV 协议访问(http://)\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">通过 WebDAV 协议访问(<a href=\"http://wiki.ubuntu.org.cn/SubVersion\" class=\"external free\" title=\"http://\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">http://</a>)</span></h4><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要通过 WebDAV 协议访问 SVN 文件仓库，您必须配置您的 Apache 2 Web 服务器。您必须加入下面的代码片段到您的 /etc/apache2/mods-available/dav_svn.conf中：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">&lt;Location&nbsp;/svn/myproject&gt;\nDAV&nbsp;svn\nSVNPath&nbsp;/home/svn/myproject\nAuthType&nbsp;Basic\nAuthName&nbsp;&quot;myproject&nbsp;subversion&nbsp;repository&quot;\nAuthUserFile&nbsp;/etc/subversion/passwd\n#&lt;LimitExcept&nbsp;GET&nbsp;PROPFIND&nbsp;OPTIONS&nbsp;REPORT&gt;\nRequire&nbsp;valid-user\n#&lt;/LimitExcept&gt;\n&lt;/Location&gt;</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">如果需要用户每次登录时都进行用户密码验证，请将&lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;与&lt;/LimitExcept&gt;两行注释掉。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">当您添加了上面的内容，您必须重新起动 Apache 2 Web 服务器，请输入下面的命令：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;/etc/init.d/apache2&nbsp;restart</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">接下来，您需要创建 /etc/subversion/passwd 文件，该文件包含了用户授权的详细信息。要添加用户，您可以执行下面的命令：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;htpasswd&nbsp;-c&nbsp;/etc/subversion/passwd&nbsp;user_name</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">它会提示您输入密码，当您输入了密码，该用户就建立了。“-c”选项表示创建新的/etc/subversion/passwd文件，所以user_name所指的用户将是文件中唯一的用户。如果要添加其他用户，则去掉“-c”选项即可：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;htpasswd&nbsp;/etc/subversion/passwd&nbsp;other_user_name</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">您可以通过下面的命令来访问文件仓库：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;svn&nbsp;co&nbsp;http://hostname/svn/myproject&nbsp;myproject&nbsp;--username&nbsp;user_name</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">它会提示您输入密码。您必须输入您使用 htpasswd 设置的密码。当通过验证，项目的文件就被签出了。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><strong>警告：密码是通过纯文本传输的。如果您担心密码泄漏的问题，我们建议您使用 SSL 加密，有关详情请看下一节。</strong></p><p><a id=\".E9.80.9A.E8.BF.87.E5.85.B7.E6.9C.89.E5.AE.89.E5.85.A8.E5.A5.97.E6.8E.A5.E5.AD.97.28SSL.29.E7.9A.84_WebDAV_.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28https:.2F.2F_.29\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E9.80.9A.E8.BF.87.E5.85.B7.E6.9C.89.E5.AE.89.E5.85.A8.E5.A5.97.E6.8E.A5.E5.AD.97.28SSL.29.E7.9A.84_WebDAV_.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28https:.2F.2F_.29\"></a></p><h4 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 14px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; font-weight: normal; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=11\" title=\"编辑段落：通过具有安全套接字(SSL)的 WebDAV 协议访问(https:// )\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">通过具有安全套接字(SSL)的 WebDAV 协议访问(https:// )</span></h4><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">通过具有 SSL 加密的 WebDAV 协议访问 SVN 文件仓库(https:// )非常类似上节所述的内容，除了您必须为您的 Apache 2 Web 服务器设置数字证书之外。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">您可以安装由诸如 Verisign 发放的数字签名，或者您可以安装您自己的数字签名。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">我们假设您已经为 Apache 2 Web 服务器安装和配置好了相应的数字证书。现在按照上一节所描述的方法访问 SVN 文件仓库，别忘了把&nbsp;<em>http://</em>&nbsp;换成<em>https://</em>。如何，几乎是一模一样的！</p><p><a id=\".E9.80.9A.E8.BF.87.E8.87.AA.E5.B8.A6.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28svn:.2F.2F.29\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E9.80.9A.E8.BF.87.E8.87.AA.E5.B8.A6.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28svn:.2F.2F.29\"></a></p><h4 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 14px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; font-weight: normal; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=12\" title=\"编辑段落：通过自带协议访问(svn://)\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">通过自带协议访问(svn://)</span></h4><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">当您创建了 SVN 文件仓库，您可以修改 /home/svn/myproject/conf/svnserve.conf 来配置其访问控制。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><br/>例如，您可以取消下面的注释符号来设置授权机制：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">#&nbsp;[general]\n#&nbsp;password-db&nbsp;=&nbsp;passwd</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">现在，您可以在“passwd”文件中维护用户清单。编辑同一目录下“passwd”文件，添加新用户。语法如下：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">username&nbsp;=&nbsp;password\n＃(注意行开始不要有多余空格)</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要了解详情，请参考该文件。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><br/>现在，您可以在本地或者远程通过 svn://访问 SVN 了，您可以使用“svnserve”来运行 svnserver，语法如下：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;sudo&nbsp;svnserve&nbsp;-d&nbsp;--foreground&nbsp;-r&nbsp;/home/svn\n#&nbsp;-d&nbsp;--&nbsp;daemon&nbsp;mode\n#&nbsp;--foreground&nbsp;--&nbsp;run&nbsp;in&nbsp;foreground&nbsp;(useful&nbsp;for&nbsp;debugging)\n#&nbsp;-r&nbsp;--&nbsp;root&nbsp;of&nbsp;directory&nbsp;to&nbsp;serve\n要了解更多信息，请输入：\n$&nbsp;svnserve&nbsp;--help</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">当您执行了该命令，SVN 就开始监听默认的端口(3690)。您可以通过下面的命令来访问文件仓库：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;svn&nbsp;co&nbsp;svn://hostname/myproject&nbsp;myproject&nbsp;--username&nbsp;user_name</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">基于服务器的配置，它会要求输入密码。一旦通过验证，就会签出文件仓库中的代码。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><br/>要同步文件仓库和本地的副本，您可以执行 update 子命令，语法如下：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;cd&nbsp;project_dir\n$&nbsp;svn&nbsp;update</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要了解更多的 SVN 子命令，您可以参考手册。例如要了解 co (checkout) 命令，请执行：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;svn&nbsp;co&nbsp;--help\n或者这样\n$&nbsp;svn&nbsp;--help&nbsp;commit\n或者直接\n☎&nbsp;svn&nbsp;help&nbsp;co\ncheckout&nbsp;(co):&nbsp;从版本库签出工作副本。\n使用:&nbsp;checkout&nbsp;URL[@REV]...&nbsp;[PATH]\n。。。。。</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><strong>一个实例：</strong></p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">&nbsp;killall&nbsp;svnserve;&nbsp;svnserve&nbsp;-d&nbsp;-r&nbsp;/home/svn/</pre><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">/home/svn/lj12-source/conf&nbsp;&nbsp;dog&nbsp;*\nauthz:[groups]\nauthz:lj12&nbsp;=&nbsp;veexp\nauthz:[lj12-source:/]&nbsp;&lt;-注意写法。\nauthz:veexp&nbsp;=&nbsp;rw\nauthz:@lj12&nbsp;=&nbsp;rw\nauthz:*&nbsp;=&nbsp;passwd:[users]&nbsp;&lt;-2个用户和密码。\npasswd:veexp&nbsp;=&nbsp;icep\npasswd:test&nbsp;=&nbsp;test&nbsp;\nsvnserve.conf:[general]\nsvnserve.conf:anon-access&nbsp;=&nbsp;none\nsvnserve.conf:auth-access&nbsp;=&nbsp;write\nsvnserve.conf:password-db&nbsp;=&nbsp;passwd\nsvnserve.conf:authz-db&nbsp;=&nbsp;authz&nbsp;&lt;-如果不启用authz，则test也可以取出。</pre><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">svn&nbsp;co&nbsp;svn://localhost/lj12-source&nbsp;--username&nbsp;veexp\n认证领域:&nbsp;&lt;svn://localhost:3690&gt;&nbsp;a712643f-661e-0410-8ad4-f0554cd88977\n用户名:&nbsp;veexp&nbsp;“veexp”的密码:\nA&nbsp;lj12-source/tim.h&nbsp;A&nbsp;lj12-source/en.c\n......</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">认证失败的密码缓冲记录位置，明文密码。到1.6版本，可能使用keyring管理。如果调试密码，直接删除如下文件就可。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">~/.subversion/auth/svn.simple/:</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">eea34a6f7baa67a3639cacd6a428dba4</pre><p><a id=\".E9.80.9A.E8.BF.87.E5.85.B7.E8.A2.ABSSH.E9.9A.A7.E9.81.93.E4.BF.9D.E6.8A.A4.E7.9A.84.E8.87.AA.E5.B8.A6.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28svn.2Bssh:.2F.2F.29\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E9.80.9A.E8.BF.87.E5.85.B7.E8.A2.ABSSH.E9.9A.A7.E9.81.93.E4.BF.9D.E6.8A.A4.E7.9A.84.E8.87.AA.E5.B8.A6.E5.8D.8F.E8.AE.AE.E8.AE.BF.E9.97.AE.28svn.2Bssh:.2F.2F.29\"></a></p><h4 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 14px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; font-weight: normal; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=13\" title=\"编辑段落：通过具被SSH隧道保护的自带协议访问(svn+ssh://)\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">通过具被SSH隧道保护的自带协议访问(svn+ssh://)</span></h4><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">配置和服务器进程于上节所述相同。我们假设您已经运行了“svnserve”命令。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">我们还假设您运行了 ssh 服务并允许接入。要验证这一点，请尝试使用 ssh 登录计算机。如果您可以登录，那么大功告成，如果不能，请在执行下面的步骤前解决它。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">svn+ssh:// 协议使用 SSH 加密来访问 SVN 文件仓库。如您所知，数据传输是加密的。要访问这样的文件仓库，请输入：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">$&nbsp;svn&nbsp;co&nbsp;svn+ssh://hostname/home/svn/myproject&nbsp;myproject&nbsp;--username&nbsp;user_name</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\"><strong>注意：在这种方式下，您必须使用完整的路径(/home/svn/myproject)来访问 SVN 文件仓库</strong></p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">基于服务器的配置，它会要求输入密码。您必须输入您用于登录 ssh 的密码，一旦通过验证，就会签出文件仓库中的代码。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">您还应该参考 SVN book 以了解关于 svn+ssh:// 协议的详细信息。</p><p><a id=\".E5.8F.82.E8.80.83.E8.B5.84.E6.96.99\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.8F.82.E8.80.83.E8.B5.84.E6.96.99\"></a></p><h3 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 16px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=SubVersion&action=edit&section=14\" title=\"编辑段落：参考资料\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">参考资料</span></h3><ul style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p><a href=\"http://wiki.ubuntu.org.cn/index.php?title=ApacheMySQLPHP&action=edit&redlink=1\" class=\"new\" title=\"ApacheMySQLPHP（尚未撰写）\" style=\"color: rgb(193, 180, 150);\">Setting up Apache on Ubuntu</a></p></li><li><p><a href=\"http://subversion.tigris.org/\" class=\"external text\" title=\"http://subversion.tigris.org/\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">SVN Home page</a></p></li><li><p><a href=\"http://svnbook.red-bean.com/\" class=\"external text\" title=\"http://svnbook.red-bean.com/\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">SVN Book</a></p></li><li><p><a href=\"http://httpd.apache.org/docs/2.0/\" class=\"external text\" title=\"http://httpd.apache.org/docs/2.0/\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">Apache 2 Documentation</a></p></li><li><p><a href=\"http://www.modssl.org/\" class=\"external text\" title=\"http://www.modssl.org/\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">Mod-SSL</a></p></li><li><p><a href=\"http://www.apache-ssl.org/\" class=\"external text\" title=\"http://www.apache-ssl.org/\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">Apache-SSL</a></p></li></ul><p><br/></p>','2014-06-20 09:55:37',1,2,0),(162,'Tomcat在ubutu下的安装','<h1 style=\"margin: 0px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(181, 132, 67); font-family: arial, verdana, sans-serif; font-size: 23px; padding: 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\">Tomcat</h1><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat设置JSP开发环境，有两种，或是用源安装，或是自己下载配置 Tomcat，推荐后者。</p><table id=\"toc\" class=\"toc\" summary=\"目录\"><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 20px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em;\">目录</h2><p><span class=\"toctoggle\" style=\"font-size: 12px;\">[<a id=\"togglelink\" class=\"internal\" style=\"color: rgb(146, 92, 37);\">隐藏</a>]</span></p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E6.BA.90.E6.96.B9.E5.BC.8F.EF.BC.88.E4.B8.8D.E6.8E.A8.E8.8D.90.EF.BC.89\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1</span>&nbsp;<span class=\"toctext\">源方式（不推荐）</span></a></p></li><ul class=\" list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.AE.89.E8.A3.85Tomcat\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.1</span>&nbsp;<span class=\"toctext\">安装Tomcat</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E8.AE.BE.E7.BD.AETomcat.E8.BF.90.E8.A1.8C.E7.9A.84JAVA.E7.8E.AF.E5.A2.83\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.2</span>&nbsp;<span class=\"toctext\">设置Tomcat运行的JAVA环境</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.90.AF.E5.8A.A8.E5.92.8C.E5.81.9C.E6.AD.A2Tomcat\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.3</span>&nbsp;<span class=\"toctext\">启动和停止Tomcat</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#Tomcat_.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6.E8.B7.AF.E5.BE.84\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.4</span>&nbsp;<span class=\"toctext\">Tomcat 配置文件路径</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E8.AE.BE.E7.BD.AETomcat.E7.AE.A1.E7.90.86.E5.91.98.E5.B8.90.E5.8F.B7\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.5</span>&nbsp;<span class=\"toctext\">设置Tomcat管理员帐号</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.BC.8A.E7.AB.AF\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.6</span>&nbsp;<span class=\"toctext\">弊端</span></a></p></li></ul><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E4.B8.8B.E8.BD.BD.E5.AE.89.E8.A3.85.E6.9C.80.E6.96.B0.E7.89.88.E6.9C.AC.E7.9A.84Tomcat\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">2</span>&nbsp;<span class=\"toctext\">下载安装最新版本的Tomcat</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E9.85.8D.E7.BD.AE.E5.BC.80.E5.8F.91.E7.8E.AF.E5.A2.83\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">3</span>&nbsp;<span class=\"toctext\">配置开发环境</span></a></p></li><ul class=\" list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#Eclipse\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">3.1</span>&nbsp;<span class=\"toctext\">Eclipse</span></a></p></li></ul><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.8F.82.E8.80.83\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">4</span>&nbsp;<span class=\"toctext\">参考</span></a></p></li></ul></td></tr></tbody></table><p><a id=\".E6.BA.90.E6.96.B9.E5.BC.8F.EF.BC.88.E4.B8.8D.E6.8E.A8.E8.8D.90.EF.BC.89\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E6.BA.90.E6.96.B9.E5.BC.8F.EF.BC.88.E4.B8.8D.E6.8E.A8.E8.8D.90.EF.BC.89\"></a></p><h1 style=\"margin: 0px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(181, 132, 67); font-family: arial, verdana, sans-serif; font-size: 23px; padding: 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=1\" title=\"编辑段落：源方式（不推荐）\" style=\"color: rgb(181, 132, 67); text-decoration: none;\">编辑</a>]</span><span class=\"mw-headline\">源方式（不推荐）</span></h1><p><a id=\".E5.AE.89.E8.A3.85Tomcat\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.AE.89.E8.A3.85Tomcat\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=2\" title=\"编辑段落：安装Tomcat\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">安装Tomcat</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat是由Apache Foundation研发用于支持JSP(Java Server Page)的网络服务软件。</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;apt-get&nbsp;install&nbsp;tomcat6</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">稍等片刻，Tomcat6 即会被自动安装在/usr/share/tomcat6的目录中</p><p><a id=\".E8.AE.BE.E7.BD.AETomcat.E8.BF.90.E8.A1.8C.E7.9A.84JAVA.E7.8E.AF.E5.A2.83\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E8.AE.BE.E7.BD.AETomcat.E8.BF.90.E8.A1.8C.E7.9A.84JAVA.E7.8E.AF.E5.A2.83\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=3\" title=\"编辑段落：设置Tomcat运行的JAVA环境\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">设置Tomcat运行的JAVA环境</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">首先请确保Sun的Java Development Toolkit已经安装。如果尚未安装，参照<a href=\"http://wiki.ubuntu.org.cn/Java\" title=\"Java\" style=\"color: rgb(146, 92, 37);\">Java</a>。</p><p><a id=\".E5.90.AF.E5.8A.A8.E5.92.8C.E5.81.9C.E6.AD.A2Tomcat\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.90.AF.E5.8A.A8.E5.92.8C.E5.81.9C.E6.AD.A2Tomcat\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=4\" title=\"编辑段落：启动和停止Tomcat\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">启动和停止Tomcat</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要启动Tomcat，运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">qii@ubuntu:~$&nbsp;sudo&nbsp;/etc/init.d/tomcat6&nbsp;start\n&nbsp;*&nbsp;Starting&nbsp;Tomcat&nbsp;servlet&nbsp;engine&nbsp;tomcat6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;OK&nbsp;]</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">此时打开浏览器，在地址栏内输入<a href=\"http://localhost:8080/\" class=\"external free\" title=\"http://localhost:8080\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">http://localhost:8080</a></p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart.png\" class=\"image\" title=\"Tomcat 安装成功\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/1/19/Tomcatstart.png/500px-Tomcatstart.png\" width=\"500\" height=\"292\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>Tomcat 安装成功</p></td></tr></tbody></table><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要停止Tomcat，运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">qii@ubuntu:~$&nbsp;sudo&nbsp;/etc/init.d/tomcat6&nbsp;stop\n&nbsp;*&nbsp;Stopping&nbsp;Tomcat&nbsp;servlet&nbsp;engine&nbsp;tomcat6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;OK&nbsp;]</pre><p><a id=\"Tomcat_.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6.E8.B7.AF.E5.BE.84\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\"Tomcat_.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6.E8.B7.AF.E5.BE.84\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=5\" title=\"编辑段落：Tomcat 配置文件路径\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">Tomcat 配置文件路径</span></h2><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">Tomcat&nbsp;home&nbsp;directory&nbsp;:&nbsp;/usr/share/tomcat6\nTomcat&nbsp;base&nbsp;directory&nbsp;:&nbsp;/var/lib/tomcat6或/etc/tomcat6</pre><p><a id=\".E8.AE.BE.E7.BD.AETomcat.E7.AE.A1.E7.90.86.E5.91.98.E5.B8.90.E5.8F.B7\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E8.AE.BE.E7.BD.AETomcat.E7.AE.A1.E7.90.86.E5.91.98.E5.B8.90.E5.8F.B7\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=6\" title=\"编辑段落：设置Tomcat管理员帐号\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">设置Tomcat管理员帐号</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat的用户帐号信息都保存在tomcat-users.xml的文件中，运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;nano&nbsp;/var/lib/tomcat6/conf/tomcat-users.xml</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">在&lt;/tomcat-users&gt;的标签前添加一行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">&lt;user&nbsp;username=&quot;用户名&quot;&nbsp;password=&quot;密码&quot;&nbsp;roles=&quot;admin,manager&quot;/&gt;</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">保存并关闭。重新运行tomcat即可输入该用户名和密码，登录Tomcat的管理页面。</p><p><a id=\".E5.BC.8A.E7.AB.AF\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.BC.8A.E7.AB.AF\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=7\" title=\"编辑段落：弊端\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">弊端</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Ubuntu 默认把 Tomcat 分到2个目录，在之后配置 Eclipse Server 时会把人逼疯的，配置哪个路径都不对，Eclipse 无法识别安装的 Tomcat。 解决方案：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;ln&nbsp;-s&nbsp;/var/lib/tomcat6/conf&nbsp;/usr/share/tomcat6/conf\nsudo&nbsp;ln&nbsp;-s&nbsp;/etc/tomcat6/policy.d/03catalina.policy&nbsp;/usr/share/tomcat6/conf/catalina.policy\nsudo&nbsp;ln&nbsp;-s&nbsp;/var/log/tomcat6&nbsp;/usr/share/tomcat6/log\nsudo&nbsp;chmod&nbsp;-R&nbsp;777&nbsp;/usr/share/tomcat6/conf</pre><p><a id=\".E4.B8.8B.E8.BD.BD.E5.AE.89.E8.A3.85.E6.9C.80.E6.96.B0.E7.89.88.E6.9C.AC.E7.9A.84Tomcat\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E4.B8.8B.E8.BD.BD.E5.AE.89.E8.A3.85.E6.9C.80.E6.96.B0.E7.89.88.E6.9C.AC.E7.9A.84Tomcat\"></a></p><h1 style=\"margin: 0px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(181, 132, 67); font-family: arial, verdana, sans-serif; font-size: 23px; padding: 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=8\" title=\"编辑段落：下载安装最新版本的Tomcat\" style=\"color: rgb(181, 132, 67); text-decoration: none;\">编辑</a>]</span><span class=\"mw-headline\">下载安装最新版本的Tomcat</span></h1><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">这种方法绕过 Ubuntu 自身的包管理器，直接从Apache Tomcat的主页上下载并使用Tomcat软件，该方法方便快捷的安装旧版或新测试版 Tomcat 而并不影响系统的稳定性，轻松自在。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">从tomcat的官方下载页面</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">http://tomcat.apache.org/download-70.cgi</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">下载Binary-&gt;Core分类中的zip或者tar.gz包后，本地解压缩并将新生成的目录重命名为tomcat，以方便使用。将这个文件夹移动至某路径PATH/。 参考以上设置环境变量和端口设置等步骤，大功告成！ 直接运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">PATH/tomcat/bin/./startup.sh</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat 便即刻在后台服务了。 （请将PATH替换成适合您的路径）</p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart2.png\" class=\"image\" title=\"Tomcat 启动成功\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/c/c5/Tomcatstart2.png/500px-Tomcatstart2.png\" width=\"500\" height=\"274\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart2.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>Tomcat 启动成功</p></td></tr></tbody></table><p><a id=\".E9.85.8D.E7.BD.AE.E5.BC.80.E5.8F.91.E7.8E.AF.E5.A2.83\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E9.85.8D.E7.BD.AE.E5.BC.80.E5.8F.91.E7.8E.AF.E5.A2.83\"></a></p><h1 style=\"margin: 0px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(181, 132, 67); font-family: arial, verdana, sans-serif; font-size: 23px; padding: 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=9\" title=\"编辑段落：配置开发环境\" style=\"color: rgb(181, 132, 67); text-decoration: none;\">编辑</a>]</span><span class=\"mw-headline\">配置开发环境</span></h1><p><a id=\"Eclipse\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\"Eclipse\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=10\" title=\"编辑段落：Eclipse\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">Eclipse</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">以下载的 Eclipse for Java EE 为例，右击底部面板分页 Servers - New - Server，选择你要的 Tomcat 版本，添加进路径。</p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcat.png\" class=\"image\" title=\"添加 Tomcat 进 Eclipse\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/a/a9/Eclipsetomcat.png/500px-Eclipsetomcat.png\" width=\"500\" height=\"295\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcat.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>添加 Tomcat 进 Eclipse</p></td></tr></tbody></table><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Preferences - Server - Runtime Environments</p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcatruntime.png\" class=\"image\" title=\"添加 Tomcat 进 Eclipse\" style=\"color: rgb(51, 51, 51); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/3/30/Eclipsetomcatruntime.png/500px-Eclipsetomcatruntime.png\" width=\"500\" height=\"417\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcatruntime.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>添加 Tomcat 进 Eclipse</p></td></tr></tbody></table><p><br/></p>','2014-06-20 09:56:35',1,4,0),(163,'MyEclipse搭建SSH框架、Hibernate反向工程图文详解','<p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat设置JSP开发环境，有两种，或是用源安装，或是自己下载配置 Tomcat，推荐后者。</p><table id=\"toc\" class=\"toc\" summary=\"目录\"><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 20px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em;\">目录</h2><p><span class=\"toctoggle\" style=\"font-size: 12px;\">[<a id=\"togglelink\" class=\"internal\" style=\"color: rgb(146, 92, 37);\">隐藏</a>]</span></p><ul class=\" list-paddingleft-2\"><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E6.BA.90.E6.96.B9.E5.BC.8F.EF.BC.88.E4.B8.8D.E6.8E.A8.E8.8D.90.EF.BC.89\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1</span>&nbsp;<span class=\"toctext\">源方式（不推荐）</span></a></p></li><ul class=\" list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.AE.89.E8.A3.85Tomcat\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.1</span>&nbsp;<span class=\"toctext\">安装Tomcat</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E8.AE.BE.E7.BD.AETomcat.E8.BF.90.E8.A1.8C.E7.9A.84JAVA.E7.8E.AF.E5.A2.83\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.2</span>&nbsp;<span class=\"toctext\">设置Tomcat运行的JAVA环境</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.90.AF.E5.8A.A8.E5.92.8C.E5.81.9C.E6.AD.A2Tomcat\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.3</span>&nbsp;<span class=\"toctext\">启动和停止Tomcat</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#Tomcat_.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6.E8.B7.AF.E5.BE.84\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.4</span>&nbsp;<span class=\"toctext\">Tomcat 配置文件路径</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E8.AE.BE.E7.BD.AETomcat.E7.AE.A1.E7.90.86.E5.91.98.E5.B8.90.E5.8F.B7\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.5</span>&nbsp;<span class=\"toctext\">设置Tomcat管理员帐号</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.BC.8A.E7.AB.AF\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">1.6</span>&nbsp;<span class=\"toctext\">弊端</span></a></p></li></ul><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E4.B8.8B.E8.BD.BD.E5.AE.89.E8.A3.85.E6.9C.80.E6.96.B0.E7.89.88.E6.9C.AC.E7.9A.84Tomcat\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">2</span>&nbsp;<span class=\"toctext\">下载安装最新版本的Tomcat</span></a></p></li><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E9.85.8D.E7.BD.AE.E5.BC.80.E5.8F.91.E7.8E.AF.E5.A2.83\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">3</span>&nbsp;<span class=\"toctext\">配置开发环境</span></a></p></li><ul class=\" list-paddingleft-2\" style=\"list-style-type: square;\"><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#Eclipse\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">3.1</span>&nbsp;<span class=\"toctext\">Eclipse</span></a></p></li></ul><li><p><a href=\"http://wiki.ubuntu.org.cn/Tomcat#.E5.8F.82.E8.80.83\" style=\"color: rgb(146, 92, 37);\"><span class=\"tocnumber\">4</span>&nbsp;<span class=\"toctext\">参考</span></a></p></li></ul></td></tr></tbody></table><p><a id=\".E6.BA.90.E6.96.B9.E5.BC.8F.EF.BC.88.E4.B8.8D.E6.8E.A8.E8.8D.90.EF.BC.89\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E6.BA.90.E6.96.B9.E5.BC.8F.EF.BC.88.E4.B8.8D.E6.8E.A8.E8.8D.90.EF.BC.89\"></a></p><h1 style=\"margin: 0px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(181, 132, 67); font-family: arial, verdana, sans-serif; font-size: 23px; padding: 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=1\" title=\"编辑段落：源方式（不推荐）\" style=\"color: rgb(181, 132, 67); text-decoration: none;\">编辑</a>]</span><span class=\"mw-headline\">源方式（不推荐）</span></h1><p><a id=\".E5.AE.89.E8.A3.85Tomcat\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.AE.89.E8.A3.85Tomcat\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=2\" title=\"编辑段落：安装Tomcat\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">安装Tomcat</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat是由Apache Foundation研发用于支持JSP(Java Server Page)的网络服务软件。</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;apt-get&nbsp;install&nbsp;tomcat6</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">稍等片刻，Tomcat6 即会被自动安装在/usr/share/tomcat6的目录中</p><p><a id=\".E8.AE.BE.E7.BD.AETomcat.E8.BF.90.E8.A1.8C.E7.9A.84JAVA.E7.8E.AF.E5.A2.83\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E8.AE.BE.E7.BD.AETomcat.E8.BF.90.E8.A1.8C.E7.9A.84JAVA.E7.8E.AF.E5.A2.83\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=3\" title=\"编辑段落：设置Tomcat运行的JAVA环境\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">设置Tomcat运行的JAVA环境</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">首先请确保Sun的Java Development Toolkit已经安装。如果尚未安装，参照<a href=\"http://wiki.ubuntu.org.cn/Java\" title=\"Java\" style=\"color: rgb(146, 92, 37);\">Java</a>。</p><p><a id=\".E5.90.AF.E5.8A.A8.E5.92.8C.E5.81.9C.E6.AD.A2Tomcat\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.90.AF.E5.8A.A8.E5.92.8C.E5.81.9C.E6.AD.A2Tomcat\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=4\" title=\"编辑段落：启动和停止Tomcat\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">启动和停止Tomcat</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要启动Tomcat，运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">qii@ubuntu:~$&nbsp;sudo&nbsp;/etc/init.d/tomcat6&nbsp;start\n&nbsp;*&nbsp;Starting&nbsp;Tomcat&nbsp;servlet&nbsp;engine&nbsp;tomcat6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;OK&nbsp;]</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">此时打开浏览器，在地址栏内输入<a href=\"http://localhost:8080/\" class=\"external free\" title=\"http://localhost:8080\" rel=\"nofollow\" style=\"color: rgb(181, 132, 67); padding-right: 13px; background-image: url(http://wiki.ubuntu.org.cn/skins/ubuntuchina/external.png); background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: 100% 50%; background-repeat: no-repeat;\">http://localhost:8080</a></p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart.png\" class=\"image\" title=\"Tomcat 安装成功\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/1/19/Tomcatstart.png/500px-Tomcatstart.png\" width=\"500\" height=\"292\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>Tomcat 安装成功</p></td></tr></tbody></table><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">要停止Tomcat，运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">qii@ubuntu:~$&nbsp;sudo&nbsp;/etc/init.d/tomcat6&nbsp;stop\n&nbsp;*&nbsp;Stopping&nbsp;Tomcat&nbsp;servlet&nbsp;engine&nbsp;tomcat6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;OK&nbsp;]</pre><p><a id=\"Tomcat_.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6.E8.B7.AF.E5.BE.84\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\"Tomcat_.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6.E8.B7.AF.E5.BE.84\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=5\" title=\"编辑段落：Tomcat 配置文件路径\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">Tomcat 配置文件路径</span></h2><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">Tomcat&nbsp;home&nbsp;directory&nbsp;:&nbsp;/usr/share/tomcat6\nTomcat&nbsp;base&nbsp;directory&nbsp;:&nbsp;/var/lib/tomcat6或/etc/tomcat6</pre><p><a id=\".E8.AE.BE.E7.BD.AETomcat.E7.AE.A1.E7.90.86.E5.91.98.E5.B8.90.E5.8F.B7\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E8.AE.BE.E7.BD.AETomcat.E7.AE.A1.E7.90.86.E5.91.98.E5.B8.90.E5.8F.B7\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=6\" title=\"编辑段落：设置Tomcat管理员帐号\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">设置Tomcat管理员帐号</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat的用户帐号信息都保存在tomcat-users.xml的文件中，运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;nano&nbsp;/var/lib/tomcat6/conf/tomcat-users.xml</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">在&lt;/tomcat-users&gt;的标签前添加一行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">&lt;user&nbsp;username=&quot;用户名&quot;&nbsp;password=&quot;密码&quot;&nbsp;roles=&quot;admin,manager&quot;/&gt;</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">保存并关闭。重新运行tomcat即可输入该用户名和密码，登录Tomcat的管理页面。</p><p><a id=\".E5.BC.8A.E7.AB.AF\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E5.BC.8A.E7.AB.AF\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=7\" title=\"编辑段落：弊端\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">弊端</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Ubuntu 默认把 Tomcat 分到2个目录，在之后配置 Eclipse Server 时会把人逼疯的，配置哪个路径都不对，Eclipse 无法识别安装的 Tomcat。 解决方案：</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">sudo&nbsp;ln&nbsp;-s&nbsp;/var/lib/tomcat6/conf&nbsp;/usr/share/tomcat6/conf\nsudo&nbsp;ln&nbsp;-s&nbsp;/etc/tomcat6/policy.d/03catalina.policy&nbsp;/usr/share/tomcat6/conf/catalina.policy\nsudo&nbsp;ln&nbsp;-s&nbsp;/var/log/tomcat6&nbsp;/usr/share/tomcat6/log\nsudo&nbsp;chmod&nbsp;-R&nbsp;777&nbsp;/usr/share/tomcat6/conf</pre><p><a id=\".E4.B8.8B.E8.BD.BD.E5.AE.89.E8.A3.85.E6.9C.80.E6.96.B0.E7.89.88.E6.9C.AC.E7.9A.84Tomcat\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E4.B8.8B.E8.BD.BD.E5.AE.89.E8.A3.85.E6.9C.80.E6.96.B0.E7.89.88.E6.9C.AC.E7.9A.84Tomcat\"></a></p><h1 style=\"margin: 0px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(181, 132, 67); font-family: arial, verdana, sans-serif; font-size: 23px; padding: 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=8\" title=\"编辑段落：下载安装最新版本的Tomcat\" style=\"color: rgb(181, 132, 67); text-decoration: none;\">编辑</a>]</span><span class=\"mw-headline\">下载安装最新版本的Tomcat</span></h1><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">这种方法绕过 Ubuntu 自身的包管理器，直接从Apache Tomcat的主页上下载并使用Tomcat软件，该方法方便快捷的安装旧版或新测试版 Tomcat 而并不影响系统的稳定性，轻松自在。</p><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">从tomcat的官方下载页面</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">http://tomcat.apache.org/download-70.cgi</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">下载Binary-&gt;Core分类中的zip或者tar.gz包后，本地解压缩并将新生成的目录重命名为tomcat，以方便使用。将这个文件夹移动至某路径PATH/。 参考以上设置环境变量和端口设置等步骤，大功告成！ 直接运行</p><pre style=\"font-size: 12px; border: 1px dashed rgb(102, 102, 102); padding: 15px 20px; overflow: auto; line-height: 15.600000381469727px; background-color: rgb(238, 238, 238);\">PATH/tomcat/bin/./startup.sh</pre><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Tomcat 便即刻在后台服务了。 （请将PATH替换成适合您的路径）</p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart2.png\" class=\"image\" title=\"Tomcat 启动成功\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/c/c5/Tomcatstart2.png/500px-Tomcatstart2.png\" width=\"500\" height=\"274\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Tomcatstart2.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>Tomcat 启动成功</p></td></tr></tbody></table><p><a id=\".E9.85.8D.E7.BD.AE.E5.BC.80.E5.8F.91.E7.8E.AF.E5.A2.83\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\".E9.85.8D.E7.BD.AE.E5.BC.80.E5.8F.91.E7.8E.AF.E5.A2.83\"></a></p><h1 style=\"margin: 0px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(181, 132, 67); font-family: arial, verdana, sans-serif; font-size: 23px; padding: 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=9\" title=\"编辑段落：配置开发环境\" style=\"color: rgb(181, 132, 67); text-decoration: none;\">编辑</a>]</span><span class=\"mw-headline\">配置开发环境</span></h1><p><a id=\"Eclipse\" style=\"color: rgb(181, 132, 67); font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\" name=\"Eclipse\"></a></p><h2 style=\"margin: 1.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); font-family: arial, verdana, sans-serif; font-size: 18px; padding: 2px 0px; color: rgb(181, 132, 67); line-height: 1.2em; white-space: normal;\"><span class=\"editsection\" style=\"float: right; margin-left: 1em; font-weight: normal !important; font-size: 12px;\">[<a href=\"http://wiki.ubuntu.org.cn/index.php?title=Tomcat&action=edit&section=10\" title=\"编辑段落：Eclipse\" style=\"color: rgb(146, 92, 37);\">编辑</a>]</span><span class=\"mw-headline\">Eclipse</span></h2><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">以下载的 Eclipse for Java EE 为例，右击底部面板分页 Servers - New - Server，选择你要的 Tomcat 版本，添加进路径。</p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcat.png\" class=\"image\" title=\"添加 Tomcat 进 Eclipse\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/a/a9/Eclipsetomcat.png/500px-Eclipsetomcat.png\" width=\"500\" height=\"295\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcat.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>添加 Tomcat 进 Eclipse</p></td></tr></tbody></table><p style=\"font-family: verdana, sans-serif; font-size: 12px; line-height: 15.600000381469727px; white-space: normal;\">Preferences - Server - Runtime Environments</p><table><tbody><tr class=\"firstRow\"><td style=\"font-size: small;\"><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcatruntime.png\" class=\"image\" title=\"添加 Tomcat 进 Eclipse\" style=\"color: rgb(51, 51, 51); margin-left: auto; margin-right: auto;\"><img alt=\"\" src=\"http://wiki.ubuntu.org.cn/images/thumb/3/30/Eclipsetomcatruntime.png/500px-Eclipsetomcatruntime.png\" width=\"500\" height=\"417\" border=\"0\" class=\"thumbimage\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204);\"/></a></p><p><a href=\"http://wiki.ubuntu.org.cn/File:Eclipsetomcatruntime.png\" class=\"internal\" title=\"放大\" style=\"color: rgb(146, 92, 37); margin-left: auto; margin-right: auto; display: block; border: none !important; background: none !important;\"><img src=\"http://wiki.ubuntu.org.cn/skins/common/images/magnify-clip.png\" width=\"15\" height=\"11\" alt=\"\" style=\"margin-left: auto; margin-right: auto; border: 1px solid rgb(204, 204, 204); display: block; background-image: none !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: initial !important; background-repeat: initial !important;\"/></a></p><p>添加 Tomcat 进 Eclipse</p></td></tr></tbody></table><p><br/></p>','2014-06-20 09:57:28',1,2,1),(164,'struts中配置','<p><br/></p><p>&lt;constant name=&quot;struts.ognl.allowStaticMethodAccess&quot; value=&quot;true&quot; /&gt;允许使用静态方法</p><p>&lt;ol&gt;&nbsp;</p><p>&nbsp; &lt;li&gt;访问值栈中的action的普通属性: username = &lt;s:property value=&quot;username&quot;/&gt; &lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问值栈中对象的普通属性(get set方法)：&lt;s:property value=&quot;user.age&quot;/&gt; | &lt;s:property value=&quot;user[&#39;age&#39;]&quot;/&gt; | &lt;s:property value=&quot;user[\\&quot;age\\&quot;]&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问值栈中对象的普通属性(get set方法): &lt;s:property value=&quot;cat.friend.name&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问值栈中对象的普通方法：&lt;s:property value=&quot;password.length()&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问值栈中对象的普通方法：&lt;s:property value=&quot;cat.miaomiao()&quot; /&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问值栈中action的普通方法：&lt;s:property value=&quot;m()&quot; /&gt;&lt;/li&gt;</p><p>&nbsp; &lt;hr /&gt;</p><p>&nbsp; &lt;li&gt;访问静态方法：&lt;s:property value=&quot;@com.bjsxt.struts2.ognl.S@s()&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问静态属性：&lt;s:property value=&quot;@com.bjsxt.struts2.ognl.S@STR&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问Math类的静态方法：&lt;s:property value=&quot;@@max(2,3)&quot; /&gt;&lt;/li&gt;</p><p>&nbsp; &lt;hr /&gt;</p><p>&nbsp; &lt;li&gt;访问普通类的构造方法：&lt;s:property value=&quot;new com.bjsxt.struts2.ognl.User(8)&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;hr /&gt;</p><p>&nbsp; &lt;li&gt;访问List:&lt;s:property value=&quot;users&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问List中某个元素:&lt;s:property value=&quot;users[1]&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问List中元素某个属性的集合:&lt;s:property value=&quot;users.{age}&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问List中元素某个属性的集合中的特定值:&lt;s:property value=&quot;users.{age}[0]&quot;/&gt; | &lt;s:property value=&quot;users[0].age&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问Set:&lt;s:property value=&quot;dogs&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问Set中某个元素:&lt;s:property value=&quot;dogs[1]&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问Map:&lt;s:property value=&quot;dogMap&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问Map中某个元素:&lt;s:property value=&quot;dogMap.dog101&quot;/&gt; | &lt;s:property value=&quot;dogMap[&#39;dog101&#39;]&quot;/&gt; | &lt;s:property value=&quot;dogMap[\\&quot;dog101\\&quot;]&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问Map中所有的key:&lt;s:property value=&quot;dogMap.keys&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问Map中所有的value:&lt;s:property value=&quot;dogMap.values&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;访问容器的大小：&lt;s:property value=&quot;dogMap.size()&quot;/&gt; | &lt;s:property value=&quot;users.size&quot;/&gt; &lt;/li&gt;</p><p>&nbsp; &lt;hr /&gt;</p><p>&nbsp; &lt;li&gt;投影(过滤)：&lt;s:property value=&quot;users.{?#this.age==1}[0]&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;投影：&lt;s:property value=&quot;users.{^#this.age&gt;1}.{age}&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;投影：&lt;s:property value=&quot;users.{$#this.age&gt;1}.{age}&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;li&gt;投影：&lt;s:property value=&quot;users.{$#this.age&gt;1}.{age} == null&quot;/&gt;&lt;/li&gt;</p><p>&nbsp; &lt;hr /&gt;</p><p>&nbsp; &lt;li&gt;[]:&lt;s:property value=&quot;[0].username&quot;/&gt;&lt;/li&gt;</p><p>&nbsp;</p><p>&nbsp;&lt;/ol&gt;</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\">	</span></p><p><br/></p>','2014-06-20 09:58:42',1,2,1);

UNLOCK TABLES;

/*Table structure for table `t_comment` */

DROP TABLE IF EXISTS `t_comment`;

CREATE TABLE `t_comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `content` varchar(100) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `article_id` int(11) DEFAULT NULL,
  `time` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_comment_user` (`user_id`),
  KEY `fk_comment_article` (`article_id`),
  CONSTRAINT `fk_comment_article` FOREIGN KEY (`article_id`) REFERENCES `t_article` (`id`) ON DELETE SET NULL,
  CONSTRAINT `fk_comment_user` FOREIGN KEY (`user_id`) REFERENCES `t_user` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=109 DEFAULT CHARSET=utf8;

/*Data for the table `t_comment` */

LOCK TABLES `t_comment` WRITE;

insert  into `t_comment`(`id`,`content`,`user_id`,`article_id`,`time`) values (1,'sadfasfsa sfd ',1,119,'2014-06-06 20:37:02'),(2,'asdfsa ',1,119,'2014-06-06 20:02:02'),(3,'asdfas ',1,112,'2014-06-06 21:42:37'),(4,'asdfas sda',1,112,'2014-06-06 21:42:43'),(5,'哎呦,不错哦',1,119,'2014-06-06 23:36:43'),(6,'来此游一游',1,112,'2014-06-06 23:37:17'),(7,'sadfsafdsa sa\r\n\r\nsa\r\ndf\r\nas\r\ndf\r\nasfsa ',1,119,'2014-06-07 17:57:33'),(8,'测试以西a',1,119,'2014-06-07 19:19:14'),(9,'测试以西aasdfasf',1,119,'2014-06-07 19:19:18'),(10,'测试以西aasdfasf',1,119,'2014-06-07 19:19:19'),(11,'测试以西aasdfasf',1,119,'2014-06-07 19:19:22'),(12,'测试以西aasdfasf',1,119,'2014-06-07 19:19:24'),(13,'测试以西aasdfasf',1,119,'2014-06-07 19:19:24'),(14,'测试以西aasdfasf',1,119,'2014-06-07 19:19:26'),(15,'测试以西aasdfasf',1,119,'2014-06-07 19:19:26'),(16,'测试以西aasdfasf',1,119,'2014-06-07 19:19:27'),(17,'测试以西aasdfasf',1,119,'2014-06-07 19:19:28'),(18,'测试以西aasdfasf',1,119,'2014-06-07 19:19:28'),(19,'测试以西aasdfasf',1,119,'2014-06-07 19:19:30'),(20,'测试以西aasdfasf',1,119,'2014-06-07 19:19:31'),(21,'测试以西aasdfasf',1,119,'2014-06-07 19:19:31'),(22,'测试以西aasdfasf',1,119,'2014-06-07 19:19:33'),(23,'啊啊阿斯顿飞',38,120,'2014-06-07 21:17:07'),(24,'asdfsafsaf',1,126,'2014-06-07 21:50:41'),(25,'asfasfasfdasf',1,126,'2014-06-07 21:50:49'),(26,'asfasfasfdasfs',1,126,'2014-06-07 21:50:53'),(27,'啦啦啦,什么情况这是',1,127,'2014-06-08 19:19:43'),(28,'阿斯顿发,黑恶黑',1,127,'2014-06-08 19:20:44'),(29,'黑河',1,127,'2014-06-08 19:22:01'),(30,'哈哈哈,不错哦',1,128,'2014-06-09 21:42:03'),(31,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:39'),(32,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:42'),(33,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:43'),(34,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:44'),(35,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:45'),(36,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:45'),(37,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:45'),(38,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:46'),(39,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:46'),(40,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:47'),(41,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:47'),(42,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:47'),(43,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:48'),(44,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:48'),(45,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:48'),(46,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:48'),(47,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:49'),(48,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:49'),(49,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:49'),(50,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:50'),(51,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:50'),(52,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:50'),(53,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:50'),(54,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:51'),(55,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:51'),(56,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:52'),(57,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:52'),(58,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:52'),(59,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:53'),(60,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:53'),(61,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:53'),(62,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:54'),(63,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:54'),(64,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:55'),(65,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:55'),(66,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:56'),(67,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:56'),(68,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:56'),(69,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:57'),(70,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:57'),(71,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:57'),(72,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:58'),(73,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:58'),(74,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:58'),(75,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:58'),(76,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:59'),(77,'阿斯顿发生撒的',1,128,'2014-06-10 12:18:59'),(78,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:00'),(79,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:00'),(80,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:00'),(81,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:00'),(82,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:01'),(83,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:01'),(84,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:02'),(85,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:02'),(86,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:02'),(87,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:03'),(88,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:03'),(89,'阿斯顿发生撒的',1,128,'2014-06-10 12:19:04'),(90,'啊发生',1,128,'2014-06-10 12:47:01'),(91,'阿斯顿发',1,110,'2014-06-10 21:20:12'),(92,'sadf ',1,128,'2014-06-15 20:11:33'),(93,'wdf ',1,154,'2014-06-15 20:12:04'),(94,'asdf ',1,157,'2014-06-15 20:14:26'),(95,'asdf ',1,157,'2014-06-15 20:15:29'),(96,'哈哈哈',1,128,'2014-06-17 12:05:06'),(97,'阿斯顿发哦撒',1,128,'2014-06-17 12:07:24'),(98,'撒旦法',1,127,'2014-06-17 13:34:35'),(99,'是否\r\n',1,127,'2014-06-17 13:35:11'),(100,'asdfasdfsaf',40,158,'2014-06-19 23:10:57'),(101,'asdfasdf',40,158,'2014-06-19 23:24:34'),(102,'asdfsadfsaf',40,158,'2014-06-19 23:26:54'),(103,'aasdfs',40,158,'2014-06-19 23:27:33'),(104,'asdf',40,158,'2014-06-19 23:30:39'),(105,'asdf',40,158,'2014-06-19 23:30:51'),(106,'asdfas',1,159,'2014-06-20 01:05:07'),(107,'asdfasa',44,NULL,'2014-06-20 01:30:27'),(108,'哎呦,不错哦',1,160,'2014-06-20 09:50:28');

UNLOCK TABLES;

/*Table structure for table `t_menu` */

DROP TABLE IF EXISTS `t_menu`;

CREATE TABLE `t_menu` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `text` varchar(10) NOT NULL,
  `iconCls` varchar(15) DEFAULT NULL,
  `menu_id` int(11) DEFAULT NULL,
  `roles` varchar(500) DEFAULT NULL,
  `url` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_menu_menu` (`menu_id`),
  CONSTRAINT `fk_menu_menu` FOREIGN KEY (`menu_id`) REFERENCES `t_menu` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;

/*Data for the table `t_menu` */

LOCK TABLES `t_menu` WRITE;

insert  into `t_menu`(`id`,`text`,`iconCls`,`menu_id`,`roles`,`url`) values (1,'超级管理',NULL,NULL,'',NULL),(2,'版主管理',NULL,NULL,'',NULL),(4,'用户管理',NULL,1,'j_User_getPageVO,j_Postion_getAllByUser,j_User_addPostion,j_User_delPostion,j_Module_getAllToTreeByUser,j_Module_addModerator,j_Module_delModerator,j_User_del','admin/jsp/userManager.jsp'),(5,'职位管理',NULL,1,'j_Postion_getPageVO,j_Menu_getAllMenu,j_Postion_add,j_Menu_getMenusByPostion,j_Postion_update,j_Postion_del','admin/jsp/postionManager.jsp'),(6,'版块管理',NULL,1,'j_Module_getPageVO,j_Module_add,j_Module_update,j_Module_del','admin/jsp/moduleManager.jsp'),(7,'帖子管理',NULL,2,'j_Module_getCurUserAuthorityTree,j_Article_getPageVOToSmart,j_Article_changeState,j_Article_del','admin/jsp/articleManager.jsp');

UNLOCK TABLES;

/*Table structure for table `t_module` */

DROP TABLE IF EXISTS `t_module`;

CREATE TABLE `t_module` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `rname` varchar(10) NOT NULL,
  `intro` varchar(100) NOT NULL,
  `count` int(11) NOT NULL DEFAULT '0',
  `newestArticle` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_module_article_newestArticle` (`newestArticle`),
  CONSTRAINT `fk_module_article_newestArticle` FOREIGN KEY (`newestArticle`) REFERENCES `t_article` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;

/*Data for the table `t_module` */

LOCK TABLES `t_module` WRITE;

insert  into `t_module`(`id`,`rname`,`intro`,`count`,`newestArticle`) values (2,'SSH框架','Spring,struts,hibernate',8,164),(3,'Web前台开发','javascript编程,photoshop,Css,html...',8,129),(4,'操作系统','linux,windows',9,162),(11,'数据库技术','Mysql,Oracle,Sql Server...',2,127),(12,'java版块','java,javaee,安卓',0,NULL);

UNLOCK TABLES;

/*Table structure for table `t_postion` */

DROP TABLE IF EXISTS `t_postion`;

CREATE TABLE `t_postion` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `rname` varchar(10) NOT NULL,
  `roles` text,
  `iconCls` varchar(15) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;

/*Data for the table `t_postion` */

LOCK TABLES `t_postion` WRITE;

insert  into `t_postion`(`id`,`rname`,`roles`,`iconCls`) values (1,'超级管理','[j_User_addPostion, j_Module_addModerator, j_User_delPostion, j_Postion_del, j_Menu_getAllMenu, j_User_del, j_Postion_add, j_Module_update, j_Menu_getMenusByPostion, j_Module_getAllToTreeByUser, j_Postion_update, j_Postion_getAllByUser, j_Module_getCurUserAuthorityTree, j_Module_add, j_Module_delModerator, j_Module_del, j_Article_del, j_Postion_getPageVO, j_Module_getPageVO, j_Article_getPageVOToSmart, j_Article_changeState, j_User_getPageVO]',NULL),(2,'版主','[j_Module_getCurUserAuthorityTree, j_Article_del, j_Article_changeState, j_Article_getPageVOToSmart]',NULL),(5,'test','[j_Module_getCurUserAuthorityTree, j_Module_add, j_Module_del, j_Article_del, j_Module_update, j_Module_getPageVO, j_Article_changeState, j_Article_getPageVOToSmart]',NULL);

UNLOCK TABLES;

/*Table structure for table `t_user` */

DROP TABLE IF EXISTS `t_user`;

CREATE TABLE `t_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(16) NOT NULL COMMENT '用户名',
  `pwd` varchar(32) NOT NULL COMMENT '密码',
  `nickname` varchar(16) NOT NULL DEFAULT '新兵' COMMENT '昵称',
  `sex` char(1) NOT NULL DEFAULT '男' COMMENT '性别',
  `email` varchar(50) NOT NULL COMMENT '邮箱',
  `score` int(11) NOT NULL DEFAULT '0' COMMENT '积分',
  `money` int(11) NOT NULL DEFAULT '0' COMMENT '金币',
  `rank` int(11) NOT NULL DEFAULT '0' COMMENT '等级',
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=45 DEFAULT CHARSET=utf8;

/*Data for the table `t_user` */

LOCK TABLES `t_user` WRITE;

insert  into `t_user`(`id`,`username`,`pwd`,`nickname`,`sex`,`email`,`score`,`money`,`rank`) values (1,'admin','%123%','asdfsaf','女','22@qq.com',1,1,1),(2,'java','%123%','java版块的版主','男','aaasdf@qq.com',0,0,0),(38,'sa','%sa%','aa','男','1212@qq.com',0,0,0),(39,'asaa','%1234%','新兵123','男','1212@qq.com',0,0,0),(40,'','%%','asdfsa','女','',0,0,0),(41,'asdfa','%a%','新兵','男','asdd@qq.com',0,0,0),(42,'add','%1234%','新兵','女','aaa@qq.com',0,0,0),(43,'aaaa','%1234%','新兵','女','aaaa@qq.com',0,0,0),(44,'aaaaa','%1234%','新兵123','女','aaaaaaa@qq.com',0,0,0);

UNLOCK TABLES;

/* Trigger structure for table `t_article` */

DELIMITER $$

/*!50003 DROP TRIGGER*//*!50032 IF EXISTS */ /*!50003 `trigger_module1` */$$

/*!50003 CREATE */ /*!50017 DEFINER = 'root'@'localhost' */ /*!50003 TRIGGER `trigger_module1` AFTER INSERT ON `t_article` FOR EACH ROW BEGIN
	update t_module set count=(SELECT COUNT(*) FROM t_article where module_id=new.module_id) where id=new.module_id;
	update t_module set newestArticle=(select max(id) from t_article where module_id=new.module_id ) where id=new.module_id;
    END */$$


DELIMITER ;

/* Trigger structure for table `t_article` */

DELIMITER $$

/*!50003 DROP TRIGGER*//*!50032 IF EXISTS */ /*!50003 `trigger_module` */$$

/*!50003 CREATE */ /*!50017 DEFINER = 'root'@'localhost' */ /*!50003 TRIGGER `trigger_module` AFTER DELETE ON `t_article` FOR EACH ROW BEGIN
	update t_module set count=(SELECT COUNT(*) FROM t_article where module_id=old.module_id) where id=old.module_id;
	update t_module set newestArticle=(select max(id) from t_article where module_id=old.module_id ) where id=old.module_id;
    END */$$


DELIMITER ;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
